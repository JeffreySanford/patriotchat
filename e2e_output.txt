
> nx run api-e2e:e2e

[0m[7m[1m[36m NX [39m[22m[27m[0m  Ensuring Playwright is installed.
use --skipInstall to skip installation.
=== E2E Test Suite Global Setup ===
Service Status:
  ‚úó UNAVAILABLE: gateway (19ms)
  ‚úó UNAVAILABLE: auth (10ms)
  ‚úó UNAVAILABLE: funding (11ms)
  ‚úó UNAVAILABLE: policy (10ms)
  ‚úó UNAVAILABLE: llm (14ms)
  ‚úó UNAVAILABLE: analytics (12ms)
‚ö†Ô∏è  WARNING: No services are responding. E2E tests will likely fail.
To run E2E tests, ensure services are running:
  - API Gateway: localhost:3000
  - Auth Service: localhost:4001
  - Funding Service: localhost:4002
  - Policy Service: localhost:4003
  - LLM Service: localhost:4004
  - Analytics Service: localhost:4005
You can start services with: docker-compose up -d
Overall: 0/6 services healthy
=================================
[2mRunning [22m291[2m tests using [22m12[2m workers[22m
  [31m‚úò[39m  [2m  5 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:213:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Database Health ‚Ä∫ Connection pool status should be available[39m[2m (40ms)[22m
  [31m‚úò[39m  [2m 12 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:201:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Database Health ‚Ä∫ PostgreSQL connection should be healthy[39m[2m (36ms)[22m
  [31m‚úò[39m  [2m  6 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:7:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ User Action Logging ‚Ä∫ Should log user registration[39m[2m (110ms)[22m
  [31m‚úò[39m  [2m  2 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:165:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Query Performance ‚Ä∫ Database queries should execute quickly[39m[2m (132ms)[22m
  [31m‚úò[39m  [2m  1 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:87:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Query Tracking ‚Ä∫ Should track LLM inference queries[39m[2m (152ms)[22m
  [31m‚úò[39m  [2m  7 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:133:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Log Integrity ‚Ä∫ Logs should be immutable (no modification possible)[39m[2m (135ms)[22m
  [31m‚úò[39m  [2m  8 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:90:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Data Persistence ‚Ä∫ Stored data should persist across requests[39m[2m (154ms)[22m
‚úì Login logged for user: testuser_1770308290790_1@test.patriotchat.com
‚úì All 10 concurrent requests succeeded
  [32m‚úì[39m  [2m  4 [22m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:7:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Connection Pooling ‚Ä∫ Should handle concurrent requests efficiently[2m (196ms)[22m
  [31m‚úò[39m  [2m  3 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:39:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ User Action Logging ‚Ä∫ Should log user login[39m[2m (205ms)[22m
  [31m‚úò[39m  [2m 10 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:167:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Log Integrity ‚Ä∫ All audit operations should be timestamped[39m[2m (172ms)[22m
‚úì First spike succeeded (5 requests)
  [31m‚úò[39m  [2m 13 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:201:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Configuration ‚Ä∫ Model metadata should be available[39m[2m (14ms)[22m
  [31m‚úò[39m  [2m 11 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:121:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Data Persistence ‚Ä∫ Multiple database operations should maintain consistency[39m[2m (209ms)[22m
‚úì Pool recovered - second spike succeeded (5 requests)
  [32m‚úì[39m  [2m  9 [22m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:39:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Connection Pooling ‚Ä∫ Connection pool should recover after spike[2m (408ms)[22m
  [31m‚úò[39m  [2m 14 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:31:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Funding service should respond in under 100ms[39m[2m (11ms)[22m
‚úì Available models: [object Object], [object Object], [object Object], [object Object]
  [32m‚úì[39m  [2m 17 [22m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:7:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Availability ‚Ä∫ Should list available LLM models[2m (48ms)[22m
  [31m‚úò[39m  [2m 19 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:22:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Availability ‚Ä∫ Should include required models[39m[2m (52ms)[22m
  [31m‚úò[39m  [2m 25 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:55:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ LLM service should respond in under 100ms[39m[2m (8ms)[22m
  [31m‚úò[39m  [2m 15 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:57:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with llama2 model[39m[2m (116ms)[22m
‚úì Model selector backend API available for frontend integration
  [31m‚úò[39m  [2m 21 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:7:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Auth service should respond in under 100ms[39m[2m (38ms)[22m
  [32m‚úì[39m  [2m 23 [22m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:223:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Frontend Integration ‚Ä∫ Model selector should be available on frontend[2m (40ms)[22m
‚úì Model selector API operational
  [32m‚úì[39m  [2m 16 [22m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:42:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Availability ‚Ä∫ Model selector should be accessible via API[2m (125ms)[22m
  [31m‚úò[39m  [2m 18 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:92:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with mistral model[39m[2m (114ms)[22m
  [31m‚úò[39m  [2m 20 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:164:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Configuration ‚Ä∫ Should handle invalid model gracefully[39m[2m (114ms)[22m
  [31m‚úò[39m  [2m 22 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:127:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with neural-chat model[39m[2m (111ms)[22m
  [31m‚úò[39m  [2m 24 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:240:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Frontend Integration ‚Ä∫ Should support model switching during session[39m[2m (109ms)[22m
‚úì Gateway latency: 34.25ms
  [31m‚úò[39m  [2m 27 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:105:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-Endpoint Rate Limiting ‚Ä∫ Should apply endpoint-specific limits[39m[2m (71ms)[22m
  [32m‚úì[39m  [2m 28 [22m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:19:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ API Gateway should respond in under 100ms[2m (44ms)[22m
‚úì Per-IP rate limiting configured (no block within 10 requests)
  [32m‚úì[39m  [2m 26 [22m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:53:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-IP Rate Limiting ‚Ä∫ Should limit requests from same IP[2m (125ms)[22m
Funding Service Latency:
  Average: 5.15ms
  Min: 1.64ms
  Max: 12.66ms
  [32m‚úì[39m  [2m 29 [22m[chromium] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:55:9 ‚Ä∫ Performance Tests ‚Ä∫ Service Latency Benchmarks ‚Ä∫ Should measure funding service latency[2m (55ms)[22m
Policy Service Latency:
  Average: 3.42ms
  Min: 1.10ms
  Max: 9.93ms
  [32m‚úì[39m  [2m 30 [22m[chromium] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:79:9 ‚Ä∫ Performance Tests ‚Ä∫ Service Latency Benchmarks ‚Ä∫ Should measure policy service latency[2m (38ms)[22m
LLM Service Latency:
  Average: 3.04ms
  Min: 1.05ms
  Max: 11.43ms
  [32m‚úì[39m  [2m 31 [22m[chromium] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:103:9 ‚Ä∫ Performance Tests ‚Ä∫ Service Latency Benchmarks ‚Ä∫ Should measure LLM service latency[2m (34ms)[22m
Analytics Service Latency:
  Average: 2.49ms
  Min: 0.95ms
  Max: 10.03ms
  [32m‚úì[39m  [2m 33 [22m[chromium] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:127:9 ‚Ä∫ Performance Tests ‚Ä∫ Service Latency Benchmarks ‚Ä∫ Should measure analytics service latency[2m (28ms)[22m
Concurrent Request Performance (10 requests):
  Total time: 13.69ms
  Average latency: 10.19ms
  Max latency: 11.35ms
  Throughput: 730.36 req/s
  [32m‚úì[39m  [2m 34 [22m[chromium] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:153:9 ‚Ä∫ Performance Tests ‚Ä∫ Throughput Benchmarks ‚Ä∫ Should handle concurrent requests efficiently[2m (17ms)[22m
  [31m‚úò[39m  [2m 32 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:43:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Policy service should respond in under 100ms[39m[2m (40ms)[22m
Database Query Performance:
  Average: 2.78ms
  [32m‚úì[39m  [2m 35 [22m[chromium] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:189:9 ‚Ä∫ Performance Tests ‚Ä∫ Database Query Performance ‚Ä∫ Should execute queries within acceptable time[2m (16ms)[22m
Health Check Response Times:
  Auth: 4.69ms
  Gateway: 2.28ms
  Funding: 1.40ms
  Policy: 22.07ms
  LLM: 3.64ms
  Analytics: 6.52ms
‚úì All models have required properties (id, name)
  [32m‚úì[39m  [2m 36 [22m[chromium] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:216:9 ‚Ä∫ Performance Tests ‚Ä∫ API Response Times ‚Ä∫ Health check responses should be fast[2m (50ms)[22m
  [32m‚úì[39m  [2m 37 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:56:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Availability and Switching ‚Ä∫ Should have expected model properties[2m (23ms)[22m
‚úì All expected models present: llama2, mistral, neural-chat
  [32m‚úì[39m  [2m 38 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:89:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Availability and Switching ‚Ä∫ Should include expected models: llama2, mistral, neural-chat[2m (11ms)[22m
  [31m‚úò[39m  [2m 39 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:120:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with llama2 model[39m[2m (154ms)[22m
‚úì Avg latency: 7.10ms, Max: 27.75ms
  [32m‚úì[39m  [2m 41 [22m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:81:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Performance Baseline ‚Ä∫ Should maintain consistent response times under load[2m (45ms)[22m
  [31m‚úò[39m  [2m 42 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:104:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Performance Baseline ‚Ä∫ All services should be operational[39m[2m (37ms)[22m
  [31m‚úò[39m  [2m 43 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:67:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Analytics service should respond in under 100ms[39m[2m (45ms)[22m
Auth Service Latency:
  Average: 3.60ms
  Min: 0.77ms
  Max: 22.63ms
  [32m‚úì[39m  [2m 50 [22m[chromium] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:7:9 ‚Ä∫ Performance Tests ‚Ä∫ Service Latency Benchmarks ‚Ä∫ Should measure auth service latency[2m (43ms)[22m
  [31m‚úò[39m  [2m 44 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:7:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-User Rate Limiting ‚Ä∫ Should track requests per user[39m[2m (124ms)[22m
Gateway Latency:
  Average: 5.78ms
  Min: 2.43ms
  Max: 29.74ms
  [32m‚úì[39m  [2m 49 [22m[chromium] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:31:9 ‚Ä∫ Performance Tests ‚Ä∫ Service Latency Benchmarks ‚Ä∫ Should measure gateway latency[2m (67ms)[22m
  [31m‚úò[39m  [2m 45 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:151:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Time-Window Rate Limiting ‚Ä∫ Should reset limits on time window[39m[2m (121ms)[22m
‚úì Empty prompt correctly rejected
  [31m‚úò[39m  [2m 48 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:203:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Rate Limit Headers ‚Ä∫ Should include rate limit information in response headers[39m[2m (105ms)[22m
  [32m‚úì[39m  [2m 52 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:405:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Error Handling and Edge Cases ‚Ä∫ Should handle empty prompt gracefully[2m (12ms)[22m
  [31m‚úò[39m  [2m 47 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:250:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Rate Limit Protection ‚Ä∫ Should protect against denial of service[39m[2m (127ms)[22m
‚úì Step 1: Loaded 4 models
‚úì Step 2: Selected model - liberty-mistral-v1.0
‚úì Available models (4): liberty-mistral-v1.0, mistral, llama2, neural-chat
  [32m‚úì[39m  [2m 54 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:32:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Availability and Switching ‚Ä∫ Should retrieve list of 4 available models[2m (41ms)[22m
‚úì User registered: testuser_1770308294835_1@test.patriotchat.com
‚úì Correctly rejected invalid password
‚úì User recovered and logged in successfully
  [32m‚úì[39m  [2m 55 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:7:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should recover from invalid login attempts[2m (209ms)[22m
‚úì First registration succeeded
‚úì Duplicate registration correctly rejected
  [32m‚úì[39m  [2m 57 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:56:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle duplicate registration attempts[2m (131ms)[22m
‚úì Invalid token correctly rejected
‚úì Public endpoint accessible without token
  [32m‚úì[39m  [2m 58 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:90:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle invalid token validation[2m (11ms)[22m
‚úì Request without required field rejected
‚úì Request with incomplete data rejected
  [32m‚úì[39m  [2m 59 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:113:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle malformed request bodies[2m (11ms)[22m
  [31m‚úò[39m  [2m 61 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:281:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Switching with Sequential Queries ‚Ä∫ Should maintain model state across consecutive requests[39m[2m (108ms)[22m
  [31m‚úò[39m  [2m 62 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:316:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model-Specific Response Validation ‚Ä∫ Should return valid response structure from each model[39m[2m (104ms)[22m
‚úì Invalid model correctly rejected with status: 500
  [32m‚úì[39m  [2m 64 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:384:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Error Handling and Edge Cases ‚Ä∫ Should return error for invalid model[2m (97ms)[22m
‚úì User created in auth service
  [31m‚úò[39m  [2m 65 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:445:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Performance with Model Switching ‚Ä∫ Should handle rapid model switches under 2 seconds per query[39m[2m (126ms)[22m
  [31m‚úò[39m  [2m 67 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:280:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Data Consistency Across Services ‚Ä∫ Should maintain consistent user data across auth and analytics[39m[2m (73ms)[22m
‚úì Registration succeeded (independent of analytics service)
‚úì Login succeeded (independent of analytics service)
  [32m‚úì[39m  [2m 71 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:389:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Service Failure Isolation ‚Ä∫ Should continue functioning when non-critical service is slow[2m (153ms)[22m
‚úì User registered (auth service operational)
  [31m‚úò[39m  [2m 40 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:162:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with mistral model[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m 46 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:228:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Switching with Sequential Queries ‚Ä∫ Should switch between all 4 models and execute queries[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m 51 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:357:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model-Specific Response Validation ‚Ä∫ Should include model identification in response[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m 53 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:476:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Integration: Frontend Model Selector Scenario ‚Ä∫ Should complete full user workflow: list models > select model > generate query[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m 56 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:194:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with neural-chat model[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m 60 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:141:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should complete inference within timeout window[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m 74 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:515:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Session & Token Management ‚Ä∫ Should prevent token reuse after expiration[39m[2m (104ms)[22m
‚úì Registration event should be captured: undefined
‚úì Registration event telemetry accessible
  [32m‚úì[39m  [2m 75 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:7:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Event Telemetry Pipeline ‚Ä∫ Should capture user registration events[2m (115ms)[22m
‚úì Invalid telemetry event handled gracefully (status: 202)
  [32m‚úì[39m  [2m 77 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:201:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should handle invalid telemetry gracefully[2m (7ms)[22m
  [31m‚úò[39m  [2m 63 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:424:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Error Handling and Edge Cases ‚Ä∫ Should validate model selection required[39m[2m (30.0s)[22m
‚úì Login event should be captured
‚úì Authentication event telemetry recorded
  [32m‚úì[39m  [2m 76 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:36:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Event Telemetry Pipeline ‚Ä∫ Should capture authentication events[2m (162ms)[22m
  [31m‚úò[39m  [2m 66 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:551:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Integration: Frontend Model Selector Scenario ‚Ä∫ Should persist selected model in UI state across multiple queries[39m[2m (30.0s)[22m
‚úì High-volume analytics events handled successfully
  [32m‚úì[39m  [2m 79 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:293:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Performance ‚Ä∫ Should handle high-volume analytics events[2m (129ms)[22m
  [31m‚úò[39m  [2m 81 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:352:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ WebSocket Stability (Real-time Events) ‚Ä∫ Should report ready status when dependencies available[39m[2m (9ms)[22m
‚úì Multiple analytics events accepted
‚úì Analytics batch processing verified
  [32m‚úì[39m  [2m 82 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:125:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Event Telemetry Pipeline ‚Ä∫ Should batch analytics events efficiently[2m (121ms)[22m
‚úì Telemetry service connection maintained during registration
‚úì Telemetry service operational
  [32m‚úì[39m  [2m 83 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:385:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ WebSocket Stability (Real-time Events) ‚Ä∫ Should handle telemetry service connection[2m (79ms)[22m
‚úì Step 1: User registered
‚úì Step 2: User logged in
  [31m‚úò[39m  [2m 68 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:182:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should handle concurrent inference requests[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m 85 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:177:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should include required telemetry fields[39m[2m (101ms)[22m
‚úì Registration completed in 79ms (telemetry non-blocking)
  [32m‚úì[39m  [2m 86 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:269:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Performance ‚Ä∫ Should not block main request for telemetry[2m (88ms)[22m
  [31m‚úò[39m  [2m 69 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:229:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should rate-limit excessive requests appropriately[39m[2m (30.0s)[22m
‚úì Health endpoint operational
  [32m‚úì[39m  [2m 87 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:340:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ WebSocket Stability (Real-time Events) ‚Ä∫ Should maintain health status endpoint[2m (39ms)[22m
‚úì User authenticated
  [31m‚úò[39m  [2m 70 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:338:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Data Consistency Across Services ‚Ä∫ Should track inference requests with correct user context[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m 88 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:92:9 ‚Ä∫ E2E Workflows ‚Ä∫ Query & Inference Workflow ‚Ä∫ Should execute complete query workflow[39m[2m (83ms)[22m
‚úì Auth service: User registered
  [31m‚úò[39m  [2m 89 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:197:9 ‚Ä∫ E2E Workflows ‚Ä∫ Cross-Service Integration ‚Ä∫ Should coordinate between auth and inference services[39m[2m (72ms)[22m
‚úì Consistent health metrics across checks
  [32m‚úì[39m  [2m 90 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:364:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ WebSocket Stability (Real-time Events) ‚Ä∫ Should provide consistent health metrics[2m (45ms)[22m
  [31m‚úò[39m  [2m 91 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:370:9 ‚Ä∫ E2E Workflows ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle invalid requests properly[39m[2m (90ms)[22m
  [31m‚úò[39m  [2m 72 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:425:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Service Failure Isolation ‚Ä∫ Should gracefully degrade when LLM service is unavailable[39m[2m (30.0s)[22m
‚úì User registered
  [31m‚úò[39m  [2m 93 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:7:9 ‚Ä∫ E2E Workflows ‚Ä∫ User Registration & Login Flow ‚Ä∫ Should complete full registration workflow[39m[2m (90ms)[22m
‚úì User logged in successfully
  [31m‚úò[39m  [2m 92 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:43:9 ‚Ä∫ E2E Workflows ‚Ä∫ User Registration & Login Flow ‚Ä∫ Should complete full login workflow[39m[2m (164ms)[22m
  [31m‚úò[39m  [2m 94 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:139:9 ‚Ä∫ E2E Workflows ‚Ä∫ Query & Inference Workflow ‚Ä∫ Should support multiple queries in session[39m[2m (121ms)[22m
  [31m‚úò[39m  [2m 95 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:242:9 ‚Ä∫ E2E Workflows ‚Ä∫ Cross-Service Integration ‚Ä∫ Should maintain session across services[39m[2m (117ms)[22m
‚úì Invalid credentials rejected (status: 401)
‚úì Service handled response appropriately (status: 404)
  [32m‚úì[39m  [2m 96 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:298:9 ‚Ä∫ E2E Workflows ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle invalid credentials gracefully[2m (160ms)[22m
  [32m‚úì[39m  [2m 97 [22m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:333:9 ‚Ä∫ E2E Workflows ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should recover from service failures[2m (108ms)[22m
  [31m‚úò[39m  [2m 98 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:7:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ User Action Logging ‚Ä∫ Should log user registration[39m[2m (103ms)[22m
‚úì Login logged for user: testuser_1770308329490_1@test.patriotchat.com
  [31m‚úò[39m  [2m 99 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:39:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ User Action Logging ‚Ä∫ Should log user login[39m[2m (194ms)[22m
  [31m‚úò[39m  [2m100 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:133:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Log Integrity ‚Ä∫ Logs should be immutable (no modification possible)[39m[2m (127ms)[22m
  [31m‚úò[39m  [2m101 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:87:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Query Tracking ‚Ä∫ Should track LLM inference queries[39m[2m (132ms)[22m
  [31m‚úò[39m  [2m102 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:167:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Log Integrity ‚Ä∫ All audit operations should be timestamped[39m[2m (187ms)[22m
‚úì All 10 concurrent requests succeeded
  [32m‚úì[39m  [2m103 [22m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:7:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Connection Pooling ‚Ä∫ Should handle concurrent requests efficiently[2m (168ms)[22m
  [31m‚úò[39m  [2m105 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:90:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Data Persistence ‚Ä∫ Stored data should persist across requests[39m[2m (110ms)[22m
‚úì First spike succeeded (5 requests)
  [31m‚úò[39m  [2m107 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:22:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Availability ‚Ä∫ Should include required models[39m[2m (22ms)[22m
  [31m‚úò[39m  [2m106 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:121:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Data Persistence ‚Ä∫ Multiple database operations should maintain consistency[39m[2m (116ms)[22m
‚úì Pool recovered - second spike succeeded (5 requests)
  [32m‚úì[39m  [2m104 [22m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:39:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Connection Pooling ‚Ä∫ Connection pool should recover after spike[2m (305ms)[22m
  [31m‚úò[39m  [2m108 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:165:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Query Performance ‚Ä∫ Database queries should execute quickly[39m[2m (103ms)[22m
  [31m‚úò[39m  [2m109 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:127:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with neural-chat model[39m[2m (85ms)[22m
  [31m‚úò[39m  [2m110 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:213:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Database Health ‚Ä∫ Connection pool status should be available[39m[2m (39ms)[22m
  [31m‚úò[39m  [2m111 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:201:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Database Health ‚Ä∫ PostgreSQL connection should be healthy[39m[2m (41ms)[22m
‚úì Available models: [object Object], [object Object], [object Object], [object Object]
  [32m‚úì[39m  [2m112 [22m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:7:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Availability ‚Ä∫ Should list available LLM models[2m (48ms)[22m
  [31m‚úò[39m  [2m113 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:7:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Auth service should respond in under 100ms[39m[2m (10ms)[22m
‚úì Model selector API operational
  [32m‚úì[39m  [2m114 [22m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:42:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Availability ‚Ä∫ Model selector should be accessible via API[2m (48ms)[22m
  [31m‚úò[39m  [2m116 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:31:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Funding service should respond in under 100ms[39m[2m (16ms)[22m
  [31m‚úò[39m  [2m115 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:57:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with llama2 model[39m[2m (113ms)[22m
  [31m‚úò[39m  [2m117 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:92:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with mistral model[39m[2m (103ms)[22m
  [31m‚úò[39m  [2m118 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:164:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Configuration ‚Ä∫ Should handle invalid model gracefully[39m[2m (110ms)[22m
  [31m‚úò[39m  [2m119 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:201:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Configuration ‚Ä∫ Model metadata should be available[39m[2m (41ms)[22m
‚úì Model selector backend API available for frontend integration
  [32m‚úì[39m  [2m121 [22m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:223:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Frontend Integration ‚Ä∫ Model selector should be available on frontend[2m (35ms)[22m
‚úì Gateway latency: 28.93ms
  [32m‚úì[39m  [2m122 [22m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:19:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ API Gateway should respond in under 100ms[2m (36ms)[22m
  [31m‚úò[39m  [2m120 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:240:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Frontend Integration ‚Ä∫ Should support model switching during session[39m[2m (116ms)[22m
  [31m‚úò[39m  [2m123 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:7:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-User Rate Limiting ‚Ä∫ Should track requests per user[39m[2m (75ms)[22m
‚úì Per-IP rate limiting configured (no block within 10 requests)
  [32m‚úì[39m  [2m124 [22m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:53:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-IP Rate Limiting ‚Ä∫ Should limit requests from same IP[2m (113ms)[22m
  [31m‚úò[39m  [2m125 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:43:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Policy service should respond in under 100ms[39m[2m (29ms)[22m
  [31m‚úò[39m  [2m126 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:55:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ LLM service should respond in under 100ms[39m[2m (38ms)[22m
  [31m‚úò[39m  [2m127 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:203:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Rate Limit Headers ‚Ä∫ Should include rate limit information in response headers[39m[2m (69ms)[22m
  [31m‚úò[39m  [2m128 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:67:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Analytics service should respond in under 100ms[39m[2m (40ms)[22m
  [31m‚úò[39m  [2m129 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:104:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Performance Baseline ‚Ä∫ All services should be operational[39m[2m (32ms)[22m
‚úì Avg latency: 7.27ms, Max: 28.00ms
  [32m‚úì[39m  [2m130 [22m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:81:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Performance Baseline ‚Ä∫ Should maintain consistent response times under load[2m (47ms)[22m
LLM Service Latency:
  Average: 3.98ms
  Min: 1.42ms
  Max: 9.23ms
  [32m‚úì[39m  [2m131 [22m[firefox] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:103:9 ‚Ä∫ Performance Tests ‚Ä∫ Service Latency Benchmarks ‚Ä∫ Should measure LLM service latency[2m (44ms)[22m
Analytics Service Latency:
  Average: 3.73ms
  Min: 1.43ms
  Max: 7.67ms
  [32m‚úì[39m  [2m132 [22m[firefox] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:127:9 ‚Ä∫ Performance Tests ‚Ä∫ Service Latency Benchmarks ‚Ä∫ Should measure analytics service latency[2m (41ms)[22m
Concurrent Request Performance (10 requests):
  Total time: 9.53ms
  Average latency: 6.02ms
  Max latency: 7.49ms
  Throughput: 1049.58 req/s
  [32m‚úì[39m  [2m133 [22m[firefox] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:153:9 ‚Ä∫ Performance Tests ‚Ä∫ Throughput Benchmarks ‚Ä∫ Should handle concurrent requests efficiently[2m (12ms)[22m
Database Query Performance:
  Average: 4.67ms
  [32m‚úì[39m  [2m134 [22m[firefox] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:189:9 ‚Ä∫ Performance Tests ‚Ä∫ Database Query Performance ‚Ä∫ Should execute queries within acceptable time[2m (26ms)[22m
Health Check Response Times:
  Auth: 1.46ms
  Gateway: 2.63ms
  Funding: 6.29ms
  Policy: 19.96ms
  LLM: 2.47ms
  Analytics: 2.15ms
  [32m‚úì[39m  [2m135 [22m[firefox] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:216:9 ‚Ä∫ Performance Tests ‚Ä∫ API Response Times ‚Ä∫ Health check responses should be fast[2m (46ms)[22m
‚úì Available models (4): liberty-mistral-v1.0, mistral, llama2, neural-chat
  [32m‚úì[39m  [2m136 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:32:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Availability and Switching ‚Ä∫ Should retrieve list of 4 available models[2m (12ms)[22m
‚úì All models have required properties (id, name)
  [32m‚úì[39m  [2m137 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:56:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Availability and Switching ‚Ä∫ Should have expected model properties[2m (18ms)[22m
‚úì All expected models present: llama2, mistral, neural-chat
  [32m‚úì[39m  [2m138 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:89:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Availability and Switching ‚Ä∫ Should include expected models: llama2, mistral, neural-chat[2m (18ms)[22m
  [31m‚úò[39m  [2m139 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:120:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with llama2 model[39m[2m (92ms)[22m
  [31m‚úò[39m  [2m140 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:105:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-Endpoint Rate Limiting ‚Ä∫ Should apply endpoint-specific limits[39m[2m (126ms)[22m
  [31m‚úò[39m  [2m141 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:151:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Time-Window Rate Limiting ‚Ä∫ Should reset limits on time window[39m[2m (119ms)[22m
Auth Service Latency:
  Average: 3.68ms
  Min: 0.66ms
  Max: 24.72ms
  [32m‚úì[39m  [2m143 [22m[firefox] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:7:9 ‚Ä∫ Performance Tests ‚Ä∫ Service Latency Benchmarks ‚Ä∫ Should measure auth service latency[2m (45ms)[22m
Gateway Latency:
  Average: 5.80ms
  Min: 2.50ms
  Max: 29.96ms
  [32m‚úì[39m  [2m144 [22m[firefox] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:31:9 ‚Ä∫ Performance Tests ‚Ä∫ Service Latency Benchmarks ‚Ä∫ Should measure gateway latency[2m (66ms)[22m
  [31m‚úò[39m  [2m142 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:250:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Rate Limit Protection ‚Ä∫ Should protect against denial of service[39m[2m (136ms)[22m
Funding Service Latency:
  Average: 5.22ms
  Min: 1.39ms
  Max: 28.18ms
  [32m‚úì[39m  [2m146 [22m[firefox] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:55:9 ‚Ä∫ Performance Tests ‚Ä∫ Service Latency Benchmarks ‚Ä∫ Should measure funding service latency[2m (60ms)[22m
  [31m‚úò[39m  [2m145 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:281:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Switching with Sequential Queries ‚Ä∫ Should maintain model state across consecutive requests[39m[2m (100ms)[22m
  [31m‚úò[39m  [2m147 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:316:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model-Specific Response Validation ‚Ä∫ Should return valid response structure from each model[39m[2m (100ms)[22m
Policy Service Latency:
  Average: 5.93ms
  Min: 1.68ms
  Max: 28.44ms
  [32m‚úì[39m  [2m149 [22m[firefox] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:79:9 ‚Ä∫ Performance Tests ‚Ä∫ Service Latency Benchmarks ‚Ä∫ Should measure policy service latency[2m (68ms)[22m
‚úì Invalid model correctly rejected with status: 500
  [32m‚úì[39m  [2m148 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:384:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Error Handling and Edge Cases ‚Ä∫ Should return error for invalid model[2m (126ms)[22m
‚úì Step 1: Loaded 4 models
‚úì Step 2: Selected model - liberty-mistral-v1.0
  [31m‚úò[39m  [2m150 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:445:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Performance with Model Switching ‚Ä∫ Should handle rapid model switches under 2 seconds per query[39m[2m (102ms)[22m
‚úì Empty prompt correctly rejected
  [32m‚úì[39m  [2m157 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:405:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Error Handling and Edge Cases ‚Ä∫ Should handle empty prompt gracefully[2m (32ms)[22m
‚úì User registered: testuser_1770308338024_1@test.patriotchat.com
‚úì Correctly rejected invalid password
‚úì User recovered and logged in successfully
  [32m‚úì[39m  [2m158 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:7:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should recover from invalid login attempts[2m (199ms)[22m
‚úì First registration succeeded
‚úì Duplicate registration correctly rejected
  [32m‚úì[39m  [2m160 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:56:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle duplicate registration attempts[2m (133ms)[22m
‚úì Invalid token correctly rejected
‚úì Public endpoint accessible without token
  [32m‚úì[39m  [2m161 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:90:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle invalid token validation[2m (10ms)[22m
‚úì Request without required field rejected
‚úì Request with incomplete data rejected
  [32m‚úì[39m  [2m162 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:113:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle malformed request bodies[2m (8ms)[22m
  [31m‚úò[39m  [2m 73 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:476:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Session & Token Management ‚Ä∫ Should maintain session across multiple requests[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m 78 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:221:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should correlate events with user session[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m 80 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:79:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Event Telemetry Pipeline ‚Ä∫ Should capture inference execution events[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m 84 [22m[31m[chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:417:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ End-to-End Message Flow ‚Ä∫ Should flow events through complete pipeline[39m[2m (30.0s)[22m
‚úì User created in auth service
  [31m‚úò[39m  [2m166 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:280:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Data Consistency Across Services ‚Ä∫ Should maintain consistent user data across auth and analytics[39m[2m (102ms)[22m
‚úì Registration succeeded (independent of analytics service)
‚úì Login succeeded (independent of analytics service)
  [32m‚úì[39m  [2m168 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:389:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Service Failure Isolation ‚Ä∫ Should continue functioning when non-critical service is slow[2m (148ms)[22m
‚úì User registered (auth service operational)
  [31m‚úò[39m  [2m151 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:476:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Integration: Frontend Model Selector Scenario ‚Ä∫ Should complete full user workflow: list models > select model > generate query[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m152 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:162:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with mistral model[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m153 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:228:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Switching with Sequential Queries ‚Ä∫ Should switch between all 4 models and execute queries[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m154 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:194:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with neural-chat model[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m155 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:357:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model-Specific Response Validation ‚Ä∫ Should include model identification in response[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m156 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:424:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Error Handling and Edge Cases ‚Ä∫ Should validate model selection required[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m159 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:551:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Integration: Frontend Model Selector Scenario ‚Ä∫ Should persist selected model in UI state across multiple queries[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m171 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:515:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Session & Token Management ‚Ä∫ Should prevent token reuse after expiration[39m[2m (100ms)[22m
  [31m‚úò[39m  [2m163 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:141:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should complete inference within timeout window[39m[2m (30.0s)[22m
‚úì Registration event should be captured: undefined
‚úì Registration event telemetry accessible
  [32m‚úì[39m  [2m172 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:7:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Event Telemetry Pipeline ‚Ä∫ Should capture user registration events[2m (112ms)[22m
‚úì Registration completed in 74ms (telemetry non-blocking)
‚úì Login event should be captured
  [32m‚úì[39m  [2m174 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:269:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Performance ‚Ä∫ Should not block main request for telemetry[2m (77ms)[22m
‚úì Authentication event telemetry recorded
  [32m‚úì[39m  [2m173 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:36:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Event Telemetry Pipeline ‚Ä∫ Should capture authentication events[2m (194ms)[22m
‚úì Health endpoint operational
  [32m‚úì[39m  [2m178 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:340:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ WebSocket Stability (Real-time Events) ‚Ä∫ Should maintain health status endpoint[2m (8ms)[22m
  [31m‚úò[39m  [2m179 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:352:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ WebSocket Stability (Real-time Events) ‚Ä∫ Should report ready status when dependencies available[39m[2m (11ms)[22m
‚úì High-volume analytics events handled successfully
  [32m‚úì[39m  [2m176 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:293:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Performance ‚Ä∫ Should handle high-volume analytics events[2m (133ms)[22m
‚úì Multiple analytics events accepted
‚úì Analytics batch processing verified
  [32m‚úì[39m  [2m177 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:125:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Event Telemetry Pipeline ‚Ä∫ Should batch analytics events efficiently[2m (138ms)[22m
‚úì Telemetry service connection maintained during registration
‚úì Telemetry service operational
  [32m‚úì[39m  [2m181 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:385:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ WebSocket Stability (Real-time Events) ‚Ä∫ Should handle telemetry service connection[2m (63ms)[22m
‚úì Step 1: User registered
  [31m‚úò[39m  [2m180 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:177:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should include required telemetry fields[39m[2m (92ms)[22m
‚úì Invalid telemetry event handled gracefully (status: 202)
  [32m‚úì[39m  [2m184 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:201:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should handle invalid telemetry gracefully[2m (37ms)[22m
‚úì Step 2: User logged in
  [31m‚úò[39m  [2m183 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:7:9 ‚Ä∫ E2E Workflows ‚Ä∫ User Registration & Login Flow ‚Ä∫ Should complete full registration workflow[39m[2m (62ms)[22m
‚úì User authenticated
  [31m‚úò[39m  [2m185 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:92:9 ‚Ä∫ E2E Workflows ‚Ä∫ Query & Inference Workflow ‚Ä∫ Should execute complete query workflow[39m[2m (73ms)[22m
‚úì Consistent health metrics across checks
  [32m‚úì[39m  [2m187 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:364:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ WebSocket Stability (Real-time Events) ‚Ä∫ Should provide consistent health metrics[2m (41ms)[22m
  [31m‚úò[39m  [2m188 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:242:9 ‚Ä∫ E2E Workflows ‚Ä∫ Cross-Service Integration ‚Ä∫ Should maintain session across services[39m[2m (79ms)[22m
‚úì User registered
‚úì User logged in successfully
  [31m‚úò[39m  [2m189 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:43:9 ‚Ä∫ E2E Workflows ‚Ä∫ User Registration & Login Flow ‚Ä∫ Should complete full login workflow[39m[2m (180ms)[22m
  [31m‚úò[39m  [2m190 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:139:9 ‚Ä∫ E2E Workflows ‚Ä∫ Query & Inference Workflow ‚Ä∫ Should support multiple queries in session[39m[2m (106ms)[22m
‚úì Auth service: User registered
  [31m‚úò[39m  [2m191 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:197:9 ‚Ä∫ E2E Workflows ‚Ä∫ Cross-Service Integration ‚Ä∫ Should coordinate between auth and inference services[39m[2m (99ms)[22m
‚úì Invalid credentials rejected (status: 401)
  [32m‚úì[39m  [2m192 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:298:9 ‚Ä∫ E2E Workflows ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle invalid credentials gracefully[2m (157ms)[22m
  [31m‚úò[39m  [2m193 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:370:9 ‚Ä∫ E2E Workflows ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle invalid requests properly[39m[2m (102ms)[22m
‚úì Service handled response appropriately (status: 404)
  [32m‚úì[39m  [2m194 [22m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:333:9 ‚Ä∫ E2E Workflows ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should recover from service failures[2m (103ms)[22m
  [31m‚úò[39m  [2m195 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:7:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ User Action Logging ‚Ä∫ Should log user registration[39m[2m (96ms)[22m
‚úì Login logged for user: testuser_1770308373894_1@test.patriotchat.com
  [31m‚úò[39m  [2m196 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:39:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ User Action Logging ‚Ä∫ Should log user login[39m[2m (175ms)[22m
  [31m‚úò[39m  [2m197 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:87:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Query Tracking ‚Ä∫ Should track LLM inference queries[39m[2m (102ms)[22m
  [31m‚úò[39m  [2m199 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:133:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Log Integrity ‚Ä∫ Logs should be immutable (no modification possible)[39m[2m (104ms)[22m
  [31m‚úò[39m  [2m198 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:167:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Log Integrity ‚Ä∫ All audit operations should be timestamped[39m[2m (181ms)[22m
‚úì All 10 concurrent requests succeeded
  [32m‚úì[39m  [2m200 [22m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:7:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Connection Pooling ‚Ä∫ Should handle concurrent requests efficiently[2m (159ms)[22m
‚úì First spike succeeded (5 requests)
  [31m‚úò[39m  [2m202 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:121:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Data Persistence ‚Ä∫ Multiple database operations should maintain consistency[39m[2m (100ms)[22m
  [31m‚úò[39m  [2m203 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:90:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Data Persistence ‚Ä∫ Stored data should persist across requests[39m[2m (87ms)[22m
  [31m‚úò[39m  [2m204 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:165:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Query Performance ‚Ä∫ Database queries should execute quickly[39m[2m (64ms)[22m
‚úì Pool recovered - second spike succeeded (5 requests)
  [32m‚úì[39m  [2m201 [22m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:39:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Connection Pooling ‚Ä∫ Connection pool should recover after spike[2m (323ms)[22m
  [31m‚úò[39m  [2m205 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:22:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Availability ‚Ä∫ Should include required models[39m[2m (15ms)[22m
  [31m‚úò[39m  [2m206 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:201:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Database Health ‚Ä∫ PostgreSQL connection should be healthy[39m[2m (36ms)[22m
‚úì Available models: [object Object], [object Object], [object Object], [object Object]
  [32m‚úì[39m  [2m207 [22m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:7:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Availability ‚Ä∫ Should list available LLM models[2m (30ms)[22m
  [31m‚úò[39m  [2m208 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:213:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Database Health ‚Ä∫ Connection pool status should be available[39m[2m (35ms)[22m
  [31m‚úò[39m  [2m209 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:92:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with mistral model[39m[2m (73ms)[22m
‚úì Model selector API operational
  [32m‚úì[39m  [2m210 [22m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:42:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Availability ‚Ä∫ Model selector should be accessible via API[2m (58ms)[22m
  [31m‚úò[39m  [2m211 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:201:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Configuration ‚Ä∫ Model metadata should be available[39m[2m (8ms)[22m
  [31m‚úò[39m  [2m212 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:57:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with llama2 model[39m[2m (99ms)[22m
  [31m‚úò[39m  [2m213 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:127:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with neural-chat model[39m[2m (98ms)[22m
‚úì Model selector backend API available for frontend integration
  [31m‚úò[39m  [2m214 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:164:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Configuration ‚Ä∫ Should handle invalid model gracefully[39m[2m (104ms)[22m
  [32m‚úì[39m  [2m215 [22m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:223:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Frontend Integration ‚Ä∫ Model selector should be available on frontend[2m (29ms)[22m
  [31m‚úò[39m  [2m216 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:31:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Funding service should respond in under 100ms[39m[2m (16ms)[22m
  [31m‚úò[39m  [2m218 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:7:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Auth service should respond in under 100ms[39m[2m (30ms)[22m
  [31m‚úò[39m  [2m219 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:43:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Policy service should respond in under 100ms[39m[2m (32ms)[22m
‚úì Gateway latency: 25.90ms
  [32m‚úì[39m  [2m220 [22m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:19:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ API Gateway should respond in under 100ms[2m (32ms)[22m
‚úì Avg latency: 2.31ms, Max: 5.34ms
  [32m‚úì[39m  [2m221 [22m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:81:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Performance Baseline ‚Ä∫ Should maintain consistent response times under load[2m (14ms)[22m
  [31m‚úò[39m  [2m217 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:240:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Frontend Integration ‚Ä∫ Should support model switching during session[39m[2m (117ms)[22m
  [31m‚úò[39m  [2m222 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:104:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Performance Baseline ‚Ä∫ All services should be operational[39m[2m (5ms)[22m
  [31m‚úò[39m  [2m223 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:55:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ LLM service should respond in under 100ms[39m[2m (35ms)[22m
  [31m‚úò[39m  [2m225 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:67:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Analytics service should respond in under 100ms[39m[2m (33ms)[22m
  [31m‚úò[39m  [2m224 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:7:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-User Rate Limiting ‚Ä∫ Should track requests per user[39m[2m (104ms)[22m
‚úì Per-IP rate limiting configured (no block within 10 requests)
  [32m‚úì[39m  [2m226 [22m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:53:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-IP Rate Limiting ‚Ä∫ Should limit requests from same IP[2m (132ms)[22m
  [31m‚úò[39m  [2m227 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:250:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Rate Limit Protection ‚Ä∫ Should protect against denial of service[39m[2m (93ms)[22m
  [31m‚úò[39m  [2m228 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:105:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-Endpoint Rate Limiting ‚Ä∫ Should apply endpoint-specific limits[39m[2m (115ms)[22m
  [31m‚úò[39m  [2m229 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:151:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Time-Window Rate Limiting ‚Ä∫ Should reset limits on time window[39m[2m (94ms)[22m
  [31m‚úò[39m  [2m230 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:203:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Rate Limit Headers ‚Ä∫ Should include rate limit information in response headers[39m[2m (96ms)[22m
Auth Service Latency:
  Average: 3.48ms
  Min: 0.85ms
  Max: 21.45ms
  [32m‚úì[39m  [2m231 [22m[webkit] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:7:9 ‚Ä∫ Performance Tests ‚Ä∫ Service Latency Benchmarks ‚Ä∫ Should measure auth service latency[2m (43ms)[22m
LLM Service Latency:
  Average: 4.03ms
  Min: 0.94ms
  Max: 14.80ms
  [32m‚úì[39m  [2m232 [22m[webkit] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:103:9 ‚Ä∫ Performance Tests ‚Ä∫ Service Latency Benchmarks ‚Ä∫ Should measure LLM service latency[2m (43ms)[22m
Analytics Service Latency:
  Average: 3.38ms
  Min: 1.10ms
  Max: 8.13ms
  [32m‚úì[39m  [2m233 [22m[webkit] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:127:9 ‚Ä∫ Performance Tests ‚Ä∫ Service Latency Benchmarks ‚Ä∫ Should measure analytics service latency[2m (37ms)[22m
Concurrent Request Performance (10 requests):
  Total time: 11.44ms
  Average latency: 7.78ms
  Max latency: 9.82ms
  Throughput: 874.08 req/s
  [32m‚úì[39m  [2m234 [22m[webkit] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:153:9 ‚Ä∫ Performance Tests ‚Ä∫ Throughput Benchmarks ‚Ä∫ Should handle concurrent requests efficiently[2m (14ms)[22m
Database Query Performance:
  Average: 4.46ms
  [32m‚úì[39m  [2m235 [22m[webkit] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:189:9 ‚Ä∫ Performance Tests ‚Ä∫ Database Query Performance ‚Ä∫ Should execute queries within acceptable time[2m (25ms)[22m
Health Check Response Times:
  Auth: 1.04ms
  Gateway: 3.20ms
  Funding: 8.50ms
  Policy: 6.21ms
  LLM: 5.46ms
  Analytics: 1.58ms
  [32m‚úì[39m  [2m236 [22m[webkit] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:216:9 ‚Ä∫ Performance Tests ‚Ä∫ API Response Times ‚Ä∫ Health check responses should be fast[2m (35ms)[22m
‚úì Available models (4): liberty-mistral-v1.0, mistral, llama2, neural-chat
  [32m‚úì[39m  [2m237 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:32:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Availability and Switching ‚Ä∫ Should retrieve list of 4 available models[2m (7ms)[22m
‚úì All models have required properties (id, name)
  [32m‚úì[39m  [2m238 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:56:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Availability and Switching ‚Ä∫ Should have expected model properties[2m (18ms)[22m
‚úì All expected models present: llama2, mistral, neural-chat
  [32m‚úì[39m  [2m239 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:89:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Availability and Switching ‚Ä∫ Should include expected models: llama2, mistral, neural-chat[2m (8ms)[22m
  [31m‚úò[39m  [2m240 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:120:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with llama2 model[39m[2m (84ms)[22m
Gateway Latency:
  Average: 4.91ms
  Min: 1.91ms
  Max: 25.46ms
  [32m‚úì[39m  [2m241 [22m[webkit] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:31:9 ‚Ä∫ Performance Tests ‚Ä∫ Service Latency Benchmarks ‚Ä∫ Should measure gateway latency[2m (56ms)[22m
Policy Service Latency:
  Average: 5.93ms
  Min: 1.06ms
  Max: 24.41ms
Funding Service Latency:
  Average: 6.66ms
  Min: 0.85ms
  Max: 28.30ms
  [32m‚úì[39m  [2m242 [22m[webkit] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:55:9 ‚Ä∫ Performance Tests ‚Ä∫ Service Latency Benchmarks ‚Ä∫ Should measure funding service latency[2m (74ms)[22m
  [32m‚úì[39m  [2m243 [22m[webkit] ‚Ä∫ apps\api-e2e\src\performance\service-latency.spec.ts:79:9 ‚Ä∫ Performance Tests ‚Ä∫ Service Latency Benchmarks ‚Ä∫ Should measure policy service latency[2m (66ms)[22m
  [31m‚úò[39m  [2m246 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:281:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Switching with Sequential Queries ‚Ä∫ Should maintain model state across consecutive requests[39m[2m (80ms)[22m
  [31m‚úò[39m  [2m164 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:182:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should handle concurrent inference requests[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m248 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:316:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model-Specific Response Validation ‚Ä∫ Should return valid response structure from each model[39m[2m (109ms)[22m
‚úì Invalid model correctly rejected with status: 500
  [32m‚úì[39m  [2m250 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:384:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Error Handling and Edge Cases ‚Ä∫ Should return error for invalid model[2m (144ms)[22m
‚úì Empty prompt correctly rejected
  [32m‚úì[39m  [2m251 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:405:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Error Handling and Edge Cases ‚Ä∫ Should handle empty prompt gracefully[2m (5ms)[22m
  [31m‚úò[39m  [2m165 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:229:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should rate-limit excessive requests appropriately[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m167 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:338:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Data Consistency Across Services ‚Ä∫ Should track inference requests with correct user context[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m253 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:445:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Performance with Model Switching ‚Ä∫ Should handle rapid model switches under 2 seconds per query[39m[2m (98ms)[22m
  [31m‚úò[39m  [2m169 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:425:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Service Failure Isolation ‚Ä∫ Should gracefully degrade when LLM service is unavailable[39m[2m (30.0s)[22m
‚úì Step 1: Loaded 4 models
‚úì Step 2: Selected model - liberty-mistral-v1.0
‚úì User registered: testuser_1770308390200_1@test.patriotchat.com
‚úì Correctly rejected invalid password
‚úì User recovered and logged in successfully
  [32m‚úì[39m  [2m256 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:7:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should recover from invalid login attempts[2m (208ms)[22m
‚úì First registration succeeded
‚úì Duplicate registration correctly rejected
  [32m‚úì[39m  [2m257 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:56:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle duplicate registration attempts[2m (114ms)[22m
‚úì Invalid token correctly rejected
‚úì Public endpoint accessible without token
  [32m‚úì[39m  [2m258 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:90:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle invalid token validation[2m (15ms)[22m
‚úì Request without required field rejected
‚úì Request with incomplete data rejected
  [32m‚úì[39m  [2m259 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:113:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle malformed request bodies[2m (8ms)[22m
  [31m‚úò[39m  [2m170 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:476:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Session & Token Management ‚Ä∫ Should maintain session across multiple requests[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m175 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:79:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Event Telemetry Pipeline ‚Ä∫ Should capture inference execution events[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m182 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:417:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ End-to-End Message Flow ‚Ä∫ Should flow events through complete pipeline[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m186 [22m[31m[firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:221:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should correlate events with user session[39m[2m (30.0s)[22m
‚úì User created in auth service
  [31m‚úò[39m  [2m263 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:280:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Data Consistency Across Services ‚Ä∫ Should maintain consistent user data across auth and analytics[39m[2m (103ms)[22m
‚úì Registration succeeded (independent of analytics service)
‚úì Login succeeded (independent of analytics service)
  [32m‚úì[39m  [2m265 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:389:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Service Failure Isolation ‚Ä∫ Should continue functioning when non-critical service is slow[2m (151ms)[22m
‚úì User registered (auth service operational)
  [31m‚úò[39m  [2m244 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:194:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with neural-chat model[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m245 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:228:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Switching with Sequential Queries ‚Ä∫ Should switch between all 4 models and execute queries[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m247 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:162:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with mistral model[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m268 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:515:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Session & Token Management ‚Ä∫ Should prevent token reuse after expiration[39m[2m (85ms)[22m
‚úì Registration event should be captured: undefined
‚úì Registration event telemetry accessible
  [32m‚úì[39m  [2m269 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:7:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Event Telemetry Pipeline ‚Ä∫ Should capture user registration events[2m (103ms)[22m
  [31m‚úò[39m  [2m249 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:357:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model-Specific Response Validation ‚Ä∫ Should include model identification in response[39m[2m (30.0s)[22m
‚úì Login event should be captured
‚úì Authentication event telemetry recorded
  [32m‚úì[39m  [2m271 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:36:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Event Telemetry Pipeline ‚Ä∫ Should capture authentication events[2m (175ms)[22m
  [31m‚úò[39m  [2m252 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:424:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Error Handling and Edge Cases ‚Ä∫ Should validate model selection required[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m272 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:177:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should include required telemetry fields[39m[2m (77ms)[22m
‚úì Multiple analytics events accepted
‚úì Analytics batch processing verified
  [32m‚úì[39m  [2m273 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:125:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Event Telemetry Pipeline ‚Ä∫ Should batch analytics events efficiently[2m (124ms)[22m
‚úì Registration completed in 68ms (telemetry non-blocking)
  [32m‚úì[39m  [2m274 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:269:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Performance ‚Ä∫ Should not block main request for telemetry[2m (71ms)[22m
‚úì High-volume analytics events handled successfully
  [32m‚úì[39m  [2m275 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:293:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Performance ‚Ä∫ Should handle high-volume analytics events[2m (103ms)[22m
‚úì Health endpoint operational
  [32m‚úì[39m  [2m276 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:340:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ WebSocket Stability (Real-time Events) ‚Ä∫ Should maintain health status endpoint[2m (9ms)[22m
  [31m‚úò[39m  [2m278 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:352:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ WebSocket Stability (Real-time Events) ‚Ä∫ Should report ready status when dependencies available[39m[2m (6ms)[22m
‚úì Invalid telemetry event handled gracefully (status: 202)
  [32m‚úì[39m  [2m277 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:201:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should handle invalid telemetry gracefully[2m (33ms)[22m
‚úì Telemetry service connection maintained during registration
‚úì Telemetry service operational
  [32m‚úì[39m  [2m279 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:385:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ WebSocket Stability (Real-time Events) ‚Ä∫ Should handle telemetry service connection[2m (76ms)[22m
‚úì Step 1: User registered
‚úì Step 2: User logged in
  [31m‚úò[39m  [2m254 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:476:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Integration: Frontend Model Selector Scenario ‚Ä∫ Should complete full user workflow: list models > select model > generate query[39m[2m (30.0s)[22m
‚úì Consistent health metrics across checks
  [32m‚úì[39m  [2m282 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:364:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ WebSocket Stability (Real-time Events) ‚Ä∫ Should provide consistent health metrics[2m (42ms)[22m
‚úì User registered
‚úì User logged in successfully
  [31m‚úò[39m  [2m283 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:43:9 ‚Ä∫ E2E Workflows ‚Ä∫ User Registration & Login Flow ‚Ä∫ Should complete full login workflow[39m[2m (143ms)[22m
  [31m‚úò[39m  [2m255 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:551:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Integration: Frontend Model Selector Scenario ‚Ä∫ Should persist selected model in UI state across multiple queries[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m260 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:141:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should complete inference within timeout window[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m284 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:7:9 ‚Ä∫ E2E Workflows ‚Ä∫ User Registration & Login Flow ‚Ä∫ Should complete full registration workflow[39m[2m (89ms)[22m
‚úì User authenticated
  [31m‚úò[39m  [2m285 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:92:9 ‚Ä∫ E2E Workflows ‚Ä∫ Query & Inference Workflow ‚Ä∫ Should execute complete query workflow[39m[2m (110ms)[22m
  [31m‚úò[39m  [2m286 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:139:9 ‚Ä∫ E2E Workflows ‚Ä∫ Query & Inference Workflow ‚Ä∫ Should support multiple queries in session[39m[2m (119ms)[22m
‚úì Auth service: User registered
  [31m‚úò[39m  [2m287 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:197:9 ‚Ä∫ E2E Workflows ‚Ä∫ Cross-Service Integration ‚Ä∫ Should coordinate between auth and inference services[39m[2m (125ms)[22m
  [31m‚úò[39m  [2m288 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:242:9 ‚Ä∫ E2E Workflows ‚Ä∫ Cross-Service Integration ‚Ä∫ Should maintain session across services[39m[2m (107ms)[22m
‚úì Invalid credentials rejected (status: 401)
  [32m‚úì[39m  [2m289 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:298:9 ‚Ä∫ E2E Workflows ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle invalid credentials gracefully[2m (163ms)[22m
‚úì Service handled response appropriately (status: 404)
  [32m‚úì[39m  [2m290 [22m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:333:9 ‚Ä∫ E2E Workflows ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should recover from service failures[2m (109ms)[22m
  [31m‚úò[39m  [2m291 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:370:9 ‚Ä∫ E2E Workflows ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle invalid requests properly[39m[2m (98ms)[22m
  [31m‚úò[39m  [2m261 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:182:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should handle concurrent inference requests[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m262 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:229:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should rate-limit excessive requests appropriately[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m264 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:338:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Data Consistency Across Services ‚Ä∫ Should track inference requests with correct user context[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m266 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:425:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Service Failure Isolation ‚Ä∫ Should gracefully degrade when LLM service is unavailable[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m267 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:476:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Session & Token Management ‚Ä∫ Should maintain session across multiple requests[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m270 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:79:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Event Telemetry Pipeline ‚Ä∫ Should capture inference execution events[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m280 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:221:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should correlate events with user session[39m[2m (30.0s)[22m
  [31m‚úò[39m  [2m281 [22m[31m[webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:417:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ End-to-End Message Flow ‚Ä∫ Should flow events through complete pipeline[39m[2m (30.0s)[22m
[31m  1) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:7:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ User Action Logging ‚Ä∫ Should log user registration [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeDefined[2m()[22m
    Received: [31mundefined[39m
    [0m [90m 20 |[39m
     [90m 21 |[39m       expect(registerResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 22 |[39m       expect(registerResponse[33m.[39mdata[33m?[39m[33m.[39muserId)[33m.[39mtoBeDefined()[33m;[39m
     [90m    |[39m                                             [31m[1m^[22m[39m
     [90m 23 |[39m       console[33m.[39mlog([32m`‚úì Registration logged for user: ${testUser.email}`[39m)[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m       [90m// Verify audit log exists[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:22:45[22m
[31m  2) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:39:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ User Action Logging ‚Ä∫ Should log user login [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 75 |[39m       })[33m;[39m
     [90m 76 |[39m
    [31m[1m>[22m[39m[90m 77 |[39m       expect(auditResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 78 |[39m       [36mconst[39m logs [33m=[39m auditResponse[33m.[39mdata[33m?[39m[33m.[39mlogs [33m||[39m [][33m;[39m
     [90m 79 |[39m       expect(logs[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m 80 |[39m       console[33m.[39mlog([0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:77:32[22m
[31m  3) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:87:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Query Tracking ‚Ä∫ Should track LLM inference queries [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 115 |[39m       })[33m;[39m
     [90m 116 |[39m
    [31m[1m>[22m[39m[90m 117 |[39m       expect(inferenceResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 118 |[39m       console[33m.[39mlog([32m`‚úì Inference query executed and tracked`[39m)[33m;[39m
     [90m 119 |[39m
     [90m 120 |[39m       [90m// Verify tracking in analytics[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:117:36[22m
[31m  4) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:133:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Log Integrity ‚Ä∫ Logs should be immutable (no modification possible) [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32m403[39m
    Received: [31m404[39m
    [0m [90m 159 |[39m
     [90m 160 |[39m       [90m// Should be forbidden[39m
    [31m[1m>[22m[39m[90m 161 |[39m       expect(modifyResponse[33m.[39mstatus)[33m.[39mtoBe([35m403[39m)[33m;[39m
     [90m     |[39m                                     [31m[1m^[22m[39m
     [90m 162 |[39m       console[33m.[39mlog(
     [90m 163 |[39m         [32m`‚úì Audit logs are protected from modification (status: ${modifyResponse.status})`[39m[33m,[39m
     [90m 164 |[39m       )[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:161:37[22m
[31m  5) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:167:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Log Integrity ‚Ä∫ All audit operations should be timestamped [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 188 |[39m       })[33m;[39m
     [90m 189 |[39m
    [31m[1m>[22m[39m[90m 190 |[39m       expect(auditResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 191 |[39m       [36mconst[39m logs [33m=[39m auditResponse[33m.[39mdata[33m?[39m[33m.[39mlogs [33m||[39m [][33m;[39m
     [90m 192 |[39m
     [90m 193 |[39m       [90m// Verify all logs have timestamps[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:190:32[22m
[31m  6) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:90:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Data Persistence ‚Ä∫ Stored data should persist across requests [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 103 |[39m       })[33m;[39m
     [90m 104 |[39m
    [31m[1m>[22m[39m[90m 105 |[39m       expect(registerResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                   [31m[1m^[22m[39m
     [90m 106 |[39m       [36mconst[39m userId [33m=[39m registerResponse[33m.[39mdata[33m?[39m[33m.[39muserId[33m;[39m
     [90m 107 |[39m       [36mconst[39m email [33m=[39m registerResponse[33m.[39mdata[33m?[39m[33m.[39memail[33m;[39m
     [90m 108 |[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\database.spec.ts:105:35[22m
[31m  7) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:121:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Data Persistence ‚Ä∫ Multiple database operations should maintain consistency [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 147 |[39m       })[33m;[39m
     [90m 148 |[39m
    [31m[1m>[22m[39m[90m 149 |[39m       expect(updateResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 150 |[39m
     [90m 151 |[39m       [90m// Operation 3: Verify update[39m
     [90m 152 |[39m       [36mconst[39m profileResponse [33m=[39m [36mawait[39m apiRequest({[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\database.spec.ts:149:33[22m
[31m  8) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:165:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Query Performance ‚Ä∫ Database queries should execute quickly [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 192 |[39m       [36mconst[39m queryTime [33m=[39m performance[33m.[39mnow() [33m-[39m startTime[33m;[39m
     [90m 193 |[39m
    [31m[1m>[22m[39m[90m 194 |[39m       expect(profileResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 195 |[39m       expect(queryTime)[33m.[39mtoBeLessThan([35m500[39m)[33m;[39m [90m// Should be under 500ms[39m
     [90m 196 |[39m       console[33m.[39mlog([32m`‚úì Query executed in ${queryTime.toFixed(2)}ms`[39m)[33m;[39m
     [90m 197 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\database.spec.ts:194:34[22m
[31m  9) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:201:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Database Health ‚Ä∫ PostgreSQL connection should be healthy [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeDefined[2m()[22m
    Received: [31mundefined[39m
    [0m [90m 207 |[39m
     [90m 208 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 209 |[39m       expect(response[33m.[39mdata[33m?[39m[33m.[39mdatabase)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                                       [31m[1m^[22m[39m
     [90m 210 |[39m       console[33m.[39mlog([32m`‚úì Database health: OK`[39m)[33m;[39m
     [90m 211 |[39m     })[33m;[39m
     [90m 212 |[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\database.spec.ts:209:39[22m
[31m  10) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:213:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Database Health ‚Ä∫ Connection pool status should be available [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 218 |[39m       })[33m;[39m
     [90m 219 |[39m
    [31m[1m>[22m[39m[90m 220 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 221 |[39m       expect(response[33m.[39mdata[33m?[39m[33m.[39mpoolSize)[33m.[39mtoBeDefined()[33m;[39m
     [90m 222 |[39m       expect(response[33m.[39mdata[33m?[39m[33m.[39mactiveConnections)[33m.[39mtoBeDefined()[33m;[39m
     [90m 223 |[39m       console[33m.[39mlog([0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\database.spec.ts:220:27[22m
[31m  11) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:22:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Availability ‚Ä∫ Should include required models [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m
    Expected value: [32m"llama2"[39m
    Received array: [31m[{"contextWindow": 8192, "description": "Values-first constitutional reasoning with enumerated powers citations", "id": "liberty-mistral-v1.0", "name": "Liberty Mistral v1.0", "provider": "local"}, {"contextWindow": 8192, "description": "General-styled Mistral instruct model", "id": "mistral", "name": "Mistral 7B Instruct (Ollama)", "provider": "ollama-maintained"}, {"contextWindow": 4096, "description": "Ollama-hosted Llama 2 baseline", "id": "llama2", "name": "Llama 2", "provider": "ollama"}, {"contextWindow": 4096, "description": "Legacy Neural Chat endpoint", "id": "neural-chat", "name": "Neural Chat", "provider": "ollama"}][39m
    [0m [90m 32 |[39m       [90m// Verify expected models are available[39m
     [90m 33 |[39m       [36mfor[39m ([36mconst[39m model [36mof[39m [33mTEST_DATA[39m[33m.[39m[33mAVAILABLE_MODELS[39m) {
    [31m[1m>[22m[39m[90m 34 |[39m         expect(models)[33m.[39mtoContain(model)[33m;[39m
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 35 |[39m       }
     [90m 36 |[39m
     [90m 37 |[39m       console[33m.[39mlog([0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:34:24[22m
[31m  12) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:57:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with llama2 model [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 85 |[39m       })[33m;[39m
     [90m 86 |[39m
    [31m[1m>[22m[39m[90m 87 |[39m       expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 88 |[39m       expect(queryResponse[33m.[39mdata[33m?[39m[33m.[39mresponse)[33m.[39mtoBeDefined()[33m;[39m
     [90m 89 |[39m       console[33m.[39mlog([32m`‚úì Inference successful with llama2 model`[39m)[33m;[39m
     [90m 90 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:87:32[22m
[31m  13) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:92:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with mistral model [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 120 |[39m       })[33m;[39m
     [90m 121 |[39m
    [31m[1m>[22m[39m[90m 122 |[39m       expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 123 |[39m       expect(queryResponse[33m.[39mdata[33m?[39m[33m.[39mresponse)[33m.[39mtoBeDefined()[33m;[39m
     [90m 124 |[39m       console[33m.[39mlog([32m`‚úì Inference successful with mistral model`[39m)[33m;[39m
     [90m 125 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:122:32[22m
[31m  14) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:127:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with neural-chat model [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 155 |[39m       })[33m;[39m
     [90m 156 |[39m
    [31m[1m>[22m[39m[90m 157 |[39m       expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 158 |[39m       expect(queryResponse[33m.[39mdata[33m?[39m[33m.[39mresponse)[33m.[39mtoBeDefined()[33m;[39m
     [90m 159 |[39m       console[33m.[39mlog([32m`‚úì Inference successful with neural-chat model`[39m)[33m;[39m
     [90m 160 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:157:32[22m
[31m  15) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:164:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Configuration ‚Ä∫ Should handle invalid model gracefully [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32m400[39m
    Received: [31m404[39m
    [0m [90m 193 |[39m
     [90m 194 |[39m       expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 195 |[39m       expect(queryResponse[33m.[39mstatus)[33m.[39mtoBe([35m400[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 196 |[39m       console[33m.[39mlog(
     [90m 197 |[39m         [32m`‚úì Invalid model rejected with status ${queryResponse.status}`[39m[33m,[39m
     [90m 198 |[39m       )[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:195:36[22m
[31m  16) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:201:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Configuration ‚Ä∫ Model metadata should be available [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 206 |[39m       })[33m;[39m
     [90m 207 |[39m
    [31m[1m>[22m[39m[90m 208 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 209 |[39m       expect(response[33m.[39mdata[33m?[39m[33m.[39mmodels)[33m.[39mtoBeDefined()[33m;[39m
     [90m 210 |[39m       expect([33mArray[39m[33m.[39misArray(response[33m.[39mdata[33m?[39m[33m.[39mmodels))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 211 |[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:208:27[22m
[31m  17) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:240:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Frontend Integration ‚Ä∫ Should support model switching during session [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 268 |[39m       })[33m;[39m
     [90m 269 |[39m
    [31m[1m>[22m[39m[90m 270 |[39m       expect(query1[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 271 |[39m
     [90m 272 |[39m       [90m// Query with model 2 (switch)[39m
     [90m 273 |[39m       [36mconst[39m query2 [33m=[39m [36mawait[39m apiRequest({[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:270:25[22m
[31m  18) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:7:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Auth service should respond in under 100ms [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 12 |[39m       })[33m;[39m
     [90m 13 |[39m
    [31m[1m>[22m[39m[90m 14 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 15 |[39m       expect(latency)[33m.[39mtoBeLessThan([33mTEST_DATA[39m[33m.[39m[33mPERFORMANCE_THRESHOLD_MS[39m)[33m;[39m
     [90m 16 |[39m       console[33m.[39mlog([32m`‚úì Auth latency: ${latency.toFixed(2)}ms`[39m)[33m;[39m
     [90m 17 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\performance.spec.ts:14:27[22m
[31m  19) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:31:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Funding service should respond in under 100ms [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 36 |[39m       })[33m;[39m
     [90m 37 |[39m
    [31m[1m>[22m[39m[90m 38 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 39 |[39m       expect(latency)[33m.[39mtoBeLessThan([33mTEST_DATA[39m[33m.[39m[33mPERFORMANCE_THRESHOLD_MS[39m)[33m;[39m
     [90m 40 |[39m       console[33m.[39mlog([32m`‚úì Funding latency: ${latency.toFixed(2)}ms`[39m)[33m;[39m
     [90m 41 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\performance.spec.ts:38:27[22m
[31m  20) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:43:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Policy service should respond in under 100ms [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 48 |[39m       })[33m;[39m
     [90m 49 |[39m
    [31m[1m>[22m[39m[90m 50 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 51 |[39m       expect(latency)[33m.[39mtoBeLessThan([33mTEST_DATA[39m[33m.[39m[33mPERFORMANCE_THRESHOLD_MS[39m)[33m;[39m
     [90m 52 |[39m       console[33m.[39mlog([32m`‚úì Policy latency: ${latency.toFixed(2)}ms`[39m)[33m;[39m
     [90m 53 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\performance.spec.ts:50:27[22m
[31m  21) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:55:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ LLM service should respond in under 100ms [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 60 |[39m       })[33m;[39m
     [90m 61 |[39m
    [31m[1m>[22m[39m[90m 62 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 63 |[39m       expect(latency)[33m.[39mtoBeLessThan([33mTEST_DATA[39m[33m.[39m[33mPERFORMANCE_THRESHOLD_MS[39m)[33m;[39m
     [90m 64 |[39m       console[33m.[39mlog([32m`‚úì LLM latency: ${latency.toFixed(2)}ms`[39m)[33m;[39m
     [90m 65 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\performance.spec.ts:62:27[22m
[31m  22) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:67:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Analytics service should respond in under 100ms [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 72 |[39m       })[33m;[39m
     [90m 73 |[39m
    [31m[1m>[22m[39m[90m 74 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 75 |[39m       expect(latency)[33m.[39mtoBeLessThan([33mTEST_DATA[39m[33m.[39m[33mPERFORMANCE_THRESHOLD_MS[39m)[33m;[39m
     [90m 76 |[39m       console[33m.[39mlog([32m`‚úì Analytics latency: ${latency.toFixed(2)}ms`[39m)[33m;[39m
     [90m 77 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\performance.spec.ts:74:27[22m
[31m  23) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:104:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Performance Baseline ‚Ä∫ All services should be operational [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 119 |[39m         })[33m;[39m
     [90m 120 |[39m
    [31m[1m>[22m[39m[90m 121 |[39m         expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 122 |[39m       }
     [90m 123 |[39m
     [90m 124 |[39m       console[33m.[39mlog([32m`‚úì All ${services.length} services operational`[39m)[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\performance.spec.ts:121:29[22m
[31m  24) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:7:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-User Rate Limiting ‚Ä∫ Should track requests per user [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 35 |[39m       })[33m;[39m
     [90m 36 |[39m
    [31m[1m>[22m[39m[90m 37 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 38 |[39m       [90m// Check for rate limit headers[39m
     [90m 39 |[39m       [36mconst[39m rateLimitLimit [33m=[39m response[33m.[39mheaders[[32m'x-ratelimit-limit'[39m][33m;[39m
     [90m 40 |[39m       [36mconst[39m rateLimitRemaining [33m=[39m response[33m.[39mheaders[[32m'x-ratelimit-remaining'[39m][33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:37:27[22m
[31m  25) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:105:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-Endpoint Rate Limiting ‚Ä∫ Should apply endpoint-specific limits [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 133 |[39m       })[33m;[39m
     [90m 134 |[39m
    [31m[1m>[22m[39m[90m 135 |[39m       expect(inferenceResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 136 |[39m
     [90m 137 |[39m       [90m// Test profile endpoint (different limit)[39m
     [90m 138 |[39m       [36mconst[39m profileResponse [33m=[39m [36mawait[39m apiRequest({[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:135:36[22m
[31m  26) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:151:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Time-Window Rate Limiting ‚Ä∫ Should reset limits on time window [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 179 |[39m       })[33m;[39m
     [90m 180 |[39m
    [31m[1m>[22m[39m[90m 181 |[39m       expect(response1[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 182 |[39m
     [90m 183 |[39m       [90m// Wait and make another request in new window[39m
     [90m 184 |[39m       [36mawait[39m [36mnew[39m [33mPromise[39m((resolve) [33m=>[39m setTimeout(resolve[33m,[39m [35m1100[39m))[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:181:28[22m
[31m  27) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:203:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Rate Limit Headers ‚Ä∫ Should include rate limit information in response headers [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 231 |[39m       })[33m;[39m
     [90m 232 |[39m
    [31m[1m>[22m[39m[90m 233 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 234 |[39m
     [90m 235 |[39m       [90m// Check for standard rate limit headers[39m
     [90m 236 |[39m       [36mconst[39m hasRateLimitHeaders [33m=[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:233:27[22m
[31m  28) [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:250:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Rate Limit Protection ‚Ä∫ Should protect against denial of service [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeGreaterThan[2m([22m[32mexpected[39m[2m)[22m
    Expected: > [32m0[39m
    Received:   [31m0[39m
    [0m [90m 287 |[39m       [90m// At least most should succeed (rate limit protection doesn't reject all)[39m
     [90m 288 |[39m       [36mconst[39m successCount [33m=[39m results[33m.[39mfilter((r) [33m=>[39m r[33m.[39mok)[33m.[39mlength[33m;[39m
    [31m[1m>[22m[39m[90m 289 |[39m       expect(successCount)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 290 |[39m
     [90m 291 |[39m       console[33m.[39mlog(
     [90m 292 |[39m         [32m`‚úì Rate limiting protects service (${successCount}/5 requests succeeded)`[39m[33m,[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:289:28[22m
[31m  29) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:120:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with llama2 model [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 133 |[39m       })[33m;[39m
     [90m 134 |[39m
    [31m[1m>[22m[39m[90m 135 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 136 |[39m       expect(response[33m.[39mdata)[33m.[39mtoBeDefined()[33m;[39m
     [90m 137 |[39m
     [90m 138 |[39m       [90m// Validate response structure[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\model-switching.spec.ts:135:27[22m
[31m  30) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:162:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with mistral model [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  31) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:194:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with neural-chat model [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  32) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:228:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Switching with Sequential Queries ‚Ä∫ Should switch between all 4 models and execute queries [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  33) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:281:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Switching with Sequential Queries ‚Ä∫ Should maintain model state across consecutive requests [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 297 |[39m         })[33m;[39m
     [90m 298 |[39m
    [31m[1m>[22m[39m[90m 299 |[39m         expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 300 |[39m         expect(response[33m.[39mdata)[33m.[39mtoBeDefined()[33m;[39m
     [90m 301 |[39m
     [90m 302 |[39m         [90m// Verify the model used is the one we requested[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\model-switching.spec.ts:299:29[22m
[31m  34) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:316:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model-Specific Response Validation ‚Ä∫ Should return valid response structure from each model [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 331 |[39m         })[33m;[39m
     [90m 332 |[39m
    [31m[1m>[22m[39m[90m 333 |[39m         expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 334 |[39m         [36mconst[39m responseData [33m=[39m response[33m.[39mdata [36mas[39m any[33m;[39m
     [90m 335 |[39m
     [90m 336 |[39m         [90m// Response should have timestamp in data or wrapper[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\model-switching.spec.ts:333:29[22m
[31m  35) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:357:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model-Specific Response Validation ‚Ä∫ Should include model identification in response [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  36) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:424:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Error Handling and Edge Cases ‚Ä∫ Should validate model selection required [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  37) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:445:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Performance with Model Switching ‚Ä∫ Should handle rapid model switches under 2 seconds per query [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 461 |[39m         })[33m;[39m
     [90m 462 |[39m
    [31m[1m>[22m[39m[90m 463 |[39m         expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 464 |[39m       }
     [90m 465 |[39m
     [90m 466 |[39m       [36mconst[39m totalTime [33m=[39m [33mDate[39m[33m.[39mnow() [33m-[39m startTime[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\model-switching.spec.ts:463:29[22m
[31m  38) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:476:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Integration: Frontend Model Selector Scenario ‚Ä∫ Should complete full user workflow: list models > select model > generate query [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  39) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:551:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Integration: Frontend Model Selector Scenario ‚Ä∫ Should persist selected model in UI state across multiple queries [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  40) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:141:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should complete inference within timeout window [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  41) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:182:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should handle concurrent inference requests [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  42) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:229:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should rate-limit excessive requests appropriately [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  43) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:280:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Data Consistency Across Services ‚Ä∫ Should maintain consistent user data across auth and analytics [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 307 |[39m       })[33m;[39m
     [90m 308 |[39m
    [31m[1m>[22m[39m[90m 309 |[39m       expect(authProfileResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                      [31m[1m^[22m[39m
     [90m 310 |[39m       console[33m.[39mlog([32m`‚úì User profile accessible in auth service`[39m)[33m;[39m
     [90m 311 |[39m
     [90m 312 |[39m       [90m// Execute an analytics event[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:309:38[22m
[31m  44) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:338:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Data Consistency Across Services ‚Ä∫ Should track inference requests with correct user context [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  45) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:425:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Service Failure Isolation ‚Ä∫ Should gracefully degrade when LLM service is unavailable [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  46) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:476:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Session & Token Management ‚Ä∫ Should maintain session across multiple requests [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  47) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:515:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Session & Token Management ‚Ä∫ Should prevent token reuse after expiration [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 539 |[39m       })[33m;[39m
     [90m 540 |[39m
    [31m[1m>[22m[39m[90m 541 |[39m       expect(immediateResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 542 |[39m       console[33m.[39mlog([32m`‚úì Valid token accepted`[39m)[33m;[39m
     [90m 543 |[39m
     [90m 544 |[39m       [90m// After expiration, token should be rejected[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:541:36[22m
[31m  48) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:79:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Event Telemetry Pipeline ‚Ä∫ Should capture inference execution events [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  49) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:177:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should include required telemetry fields [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeDefined[2m()[22m
    Received: [31mundefined[39m
    [0m [90m 194 |[39m
     [90m 195 |[39m       [90m// Response should contain user ID for tracking[39m
    [31m[1m>[22m[39m[90m 196 |[39m       expect(userId)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 197 |[39m       expect([36mtypeof[39m userId)[33m.[39mtoBe([32m'string'[39m)[33m;[39m
     [90m 198 |[39m       console[33m.[39mlog([32m`‚úì Telemetry user ID present in response`[39m)[33m;[39m
     [90m 199 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\telemetry-validation.spec.ts:196:22[22m
[31m  50) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:221:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should correlate events with user session [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  51) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:352:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ WebSocket Stability (Real-time Events) ‚Ä∫ Should report ready status when dependencies available [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeLessThan[2m([22m[32mexpected[39m[2m)[22m
    Expected: < [32m500[39m
    Received:   [31m500[39m
    [0m [90m 358 |[39m
     [90m 359 |[39m       [90m// Should be ready or not ready, but endpoint should exist[39m
    [31m[1m>[22m[39m[90m 360 |[39m       expect(readyResponse[33m.[39mstatus)[33m.[39mtoBeLessThan([35m500[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 361 |[39m       console[33m.[39mlog([32m`‚úì Readiness check available (status: ${readyResponse.status})`[39m)[33m;[39m
     [90m 362 |[39m     })[33m;[39m
     [90m 363 |[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\telemetry-validation.spec.ts:360:36[22m
[31m  52) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:417:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ End-to-End Message Flow ‚Ä∫ Should flow events through complete pipeline [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  53) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:7:9 ‚Ä∫ E2E Workflows ‚Ä∫ User Registration & Login Flow ‚Ä∫ Should complete full registration workflow [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeDefined[2m()[22m
    Received: [31mundefined[39m
    [0m [90m 21 |[39m
     [90m 22 |[39m       expect(registerResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m       expect(registerResponse[33m.[39mdata[33m?[39m[33m.[39muserId)[33m.[39mtoBeDefined()[33m;[39m
     [90m    |[39m                                             [31m[1m^[22m[39m
     [90m 24 |[39m       expect(registerResponse[33m.[39mdata[33m?[39m[33m.[39mtoken)[33m.[39mtoBeDefined()[33m;[39m
     [90m 25 |[39m       console[33m.[39mlog([32m`‚úì User registered: ${testUser.email}`[39m)[33m;[39m
     [90m 26 |[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:23:45[22m
[31m  54) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:43:9 ‚Ä∫ E2E Workflows ‚Ä∫ User Registration & Login Flow ‚Ä∫ Should complete full login workflow [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 84 |[39m       })[33m;[39m
     [90m 85 |[39m
    [31m[1m>[22m[39m[90m 86 |[39m       expect(profileResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                                  [31m[1m^[22m[39m
     [90m 87 |[39m       console[33m.[39mlog([32m`‚úì Authenticated request successful`[39m)[33m;[39m
     [90m 88 |[39m     })[33m;[39m
     [90m 89 |[39m   })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:86:34[22m
[31m  55) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:92:9 ‚Ä∫ E2E Workflows ‚Ä∫ Query & Inference Workflow ‚Ä∫ Should execute complete query workflow [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 122 |[39m       })[33m;[39m
     [90m 123 |[39m
    [31m[1m>[22m[39m[90m 124 |[39m       expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 125 |[39m       expect(queryResponse[33m.[39mdata[33m?[39m[33m.[39mresponse)[33m.[39mtoBeDefined()[33m;[39m
     [90m 126 |[39m       console[33m.[39mlog([32m`‚úì Inference executed with ${testQuery.model}`[39m)[33m;[39m
     [90m 127 |[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:124:32[22m
[31m  56) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:139:9 ‚Ä∫ E2E Workflows ‚Ä∫ Query & Inference Workflow ‚Ä∫ Should support multiple queries in session [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 174 |[39m         })[33m;[39m
     [90m 175 |[39m
    [31m[1m>[22m[39m[90m 176 |[39m         expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 177 |[39m         queryResults[33m.[39mpush(queryResponse[33m.[39mdata)[33m;[39m
     [90m 178 |[39m         console[33m.[39mlog([32m`‚úì Query ${i + 1} executed with ${query.model}`[39m)[33m;[39m
     [90m 179 |[39m       }[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:176:34[22m
[31m  57) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:197:9 ‚Ä∫ E2E Workflows ‚Ä∫ Cross-Service Integration ‚Ä∫ Should coordinate between auth and inference services [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 226 |[39m       })[33m;[39m
     [90m 227 |[39m
    [31m[1m>[22m[39m[90m 228 |[39m       expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 229 |[39m       console[33m.[39mlog([32m`‚úì LLM service: Query executed`[39m)[33m;[39m
     [90m 230 |[39m
     [90m 231 |[39m       [90m// Step 3: Analytics service - Track[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:228:32[22m
[31m  58) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:242:9 ‚Ä∫ E2E Workflows ‚Ä∫ Cross-Service Integration ‚Ä∫ Should maintain session across services [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 267 |[39m       })[33m;[39m
     [90m 268 |[39m
    [31m[1m>[22m[39m[90m 269 |[39m       expect(authCheck[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 270 |[39m
     [90m 271 |[39m       [36mconst[39m query [33m=[39m [36mawait[39m apiRequest({
     [90m 272 |[39m         method[33m:[39m [32m'POST'[39m[33m,[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:269:28[22m
[31m  59) [chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:370:9 ‚Ä∫ E2E Workflows ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle invalid requests properly [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32m400[39m
    Received: [31m404[39m
    [0m [90m 398 |[39m
     [90m 399 |[39m       expect(invalidQuery[33m.[39mok)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 400 |[39m       expect(invalidQuery[33m.[39mstatus)[33m.[39mtoBe([35m400[39m)[33m;[39m
     [90m     |[39m                                   [31m[1m^[22m[39m
     [90m 401 |[39m       console[33m.[39mlog(
     [90m 402 |[39m         [32m`‚úì Invalid request rejected (status: ${invalidQuery.status})`[39m[33m,[39m
     [90m 403 |[39m       )[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:400:35[22m
[31m  60) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:7:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ User Action Logging ‚Ä∫ Should log user registration [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeDefined[2m()[22m
    Received: [31mundefined[39m
    [0m [90m 20 |[39m
     [90m 21 |[39m       expect(registerResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 22 |[39m       expect(registerResponse[33m.[39mdata[33m?[39m[33m.[39muserId)[33m.[39mtoBeDefined()[33m;[39m
     [90m    |[39m                                             [31m[1m^[22m[39m
     [90m 23 |[39m       console[33m.[39mlog([32m`‚úì Registration logged for user: ${testUser.email}`[39m)[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m       [90m// Verify audit log exists[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:22:45[22m
[31m  61) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:39:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ User Action Logging ‚Ä∫ Should log user login [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 75 |[39m       })[33m;[39m
     [90m 76 |[39m
    [31m[1m>[22m[39m[90m 77 |[39m       expect(auditResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 78 |[39m       [36mconst[39m logs [33m=[39m auditResponse[33m.[39mdata[33m?[39m[33m.[39mlogs [33m||[39m [][33m;[39m
     [90m 79 |[39m       expect(logs[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m 80 |[39m       console[33m.[39mlog([0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:77:32[22m
[31m  62) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:87:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Query Tracking ‚Ä∫ Should track LLM inference queries [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 115 |[39m       })[33m;[39m
     [90m 116 |[39m
    [31m[1m>[22m[39m[90m 117 |[39m       expect(inferenceResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 118 |[39m       console[33m.[39mlog([32m`‚úì Inference query executed and tracked`[39m)[33m;[39m
     [90m 119 |[39m
     [90m 120 |[39m       [90m// Verify tracking in analytics[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:117:36[22m
[31m  63) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:133:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Log Integrity ‚Ä∫ Logs should be immutable (no modification possible) [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32m403[39m
    Received: [31m404[39m
    [0m [90m 159 |[39m
     [90m 160 |[39m       [90m// Should be forbidden[39m
    [31m[1m>[22m[39m[90m 161 |[39m       expect(modifyResponse[33m.[39mstatus)[33m.[39mtoBe([35m403[39m)[33m;[39m
     [90m     |[39m                                     [31m[1m^[22m[39m
     [90m 162 |[39m       console[33m.[39mlog(
     [90m 163 |[39m         [32m`‚úì Audit logs are protected from modification (status: ${modifyResponse.status})`[39m[33m,[39m
     [90m 164 |[39m       )[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:161:37[22m
[31m  64) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:167:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Log Integrity ‚Ä∫ All audit operations should be timestamped [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 188 |[39m       })[33m;[39m
     [90m 189 |[39m
    [31m[1m>[22m[39m[90m 190 |[39m       expect(auditResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 191 |[39m       [36mconst[39m logs [33m=[39m auditResponse[33m.[39mdata[33m?[39m[33m.[39mlogs [33m||[39m [][33m;[39m
     [90m 192 |[39m
     [90m 193 |[39m       [90m// Verify all logs have timestamps[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:190:32[22m
[31m  65) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:90:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Data Persistence ‚Ä∫ Stored data should persist across requests [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 114 |[39m       })[33m;[39m
     [90m 115 |[39m
    [31m[1m>[22m[39m[90m 116 |[39m       expect(profileResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 117 |[39m       expect(profileResponse[33m.[39mdata[33m?[39m[33m.[39memail)[33m.[39mtoBe(email)[33m;[39m
     [90m 118 |[39m       console[33m.[39mlog([32m`‚úì User data persisted: ${email}`[39m)[33m;[39m
     [90m 119 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\database.spec.ts:116:34[22m
[31m  66) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:121:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Data Persistence ‚Ä∫ Multiple database operations should maintain consistency [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 147 |[39m       })[33m;[39m
     [90m 148 |[39m
    [31m[1m>[22m[39m[90m 149 |[39m       expect(updateResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 150 |[39m
     [90m 151 |[39m       [90m// Operation 3: Verify update[39m
     [90m 152 |[39m       [36mconst[39m profileResponse [33m=[39m [36mawait[39m apiRequest({[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\database.spec.ts:149:33[22m
[31m  67) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:165:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Query Performance ‚Ä∫ Database queries should execute quickly [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 192 |[39m       [36mconst[39m queryTime [33m=[39m performance[33m.[39mnow() [33m-[39m startTime[33m;[39m
     [90m 193 |[39m
    [31m[1m>[22m[39m[90m 194 |[39m       expect(profileResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 195 |[39m       expect(queryTime)[33m.[39mtoBeLessThan([35m500[39m)[33m;[39m [90m// Should be under 500ms[39m
     [90m 196 |[39m       console[33m.[39mlog([32m`‚úì Query executed in ${queryTime.toFixed(2)}ms`[39m)[33m;[39m
     [90m 197 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\database.spec.ts:194:34[22m
[31m  68) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:201:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Database Health ‚Ä∫ PostgreSQL connection should be healthy [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeDefined[2m()[22m
    Received: [31mundefined[39m
    [0m [90m 207 |[39m
     [90m 208 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 209 |[39m       expect(response[33m.[39mdata[33m?[39m[33m.[39mdatabase)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                                       [31m[1m^[22m[39m
     [90m 210 |[39m       console[33m.[39mlog([32m`‚úì Database health: OK`[39m)[33m;[39m
     [90m 211 |[39m     })[33m;[39m
     [90m 212 |[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\database.spec.ts:209:39[22m
[31m  69) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:213:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Database Health ‚Ä∫ Connection pool status should be available [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 218 |[39m       })[33m;[39m
     [90m 219 |[39m
    [31m[1m>[22m[39m[90m 220 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 221 |[39m       expect(response[33m.[39mdata[33m?[39m[33m.[39mpoolSize)[33m.[39mtoBeDefined()[33m;[39m
     [90m 222 |[39m       expect(response[33m.[39mdata[33m?[39m[33m.[39mactiveConnections)[33m.[39mtoBeDefined()[33m;[39m
     [90m 223 |[39m       console[33m.[39mlog([0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\database.spec.ts:220:27[22m
[31m  70) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:22:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Availability ‚Ä∫ Should include required models [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m
    Expected value: [32m"llama2"[39m
    Received array: [31m[{"contextWindow": 8192, "description": "Values-first constitutional reasoning with enumerated powers citations", "id": "liberty-mistral-v1.0", "name": "Liberty Mistral v1.0", "provider": "local"}, {"contextWindow": 8192, "description": "General-styled Mistral instruct model", "id": "mistral", "name": "Mistral 7B Instruct (Ollama)", "provider": "ollama-maintained"}, {"contextWindow": 4096, "description": "Ollama-hosted Llama 2 baseline", "id": "llama2", "name": "Llama 2", "provider": "ollama"}, {"contextWindow": 4096, "description": "Legacy Neural Chat endpoint", "id": "neural-chat", "name": "Neural Chat", "provider": "ollama"}][39m
    [0m [90m 32 |[39m       [90m// Verify expected models are available[39m
     [90m 33 |[39m       [36mfor[39m ([36mconst[39m model [36mof[39m [33mTEST_DATA[39m[33m.[39m[33mAVAILABLE_MODELS[39m) {
    [31m[1m>[22m[39m[90m 34 |[39m         expect(models)[33m.[39mtoContain(model)[33m;[39m
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 35 |[39m       }
     [90m 36 |[39m
     [90m 37 |[39m       console[33m.[39mlog([0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:34:24[22m
[31m  71) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:57:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with llama2 model [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 85 |[39m       })[33m;[39m
     [90m 86 |[39m
    [31m[1m>[22m[39m[90m 87 |[39m       expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 88 |[39m       expect(queryResponse[33m.[39mdata[33m?[39m[33m.[39mresponse)[33m.[39mtoBeDefined()[33m;[39m
     [90m 89 |[39m       console[33m.[39mlog([32m`‚úì Inference successful with llama2 model`[39m)[33m;[39m
     [90m 90 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:87:32[22m
[31m  72) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:92:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with mistral model [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 120 |[39m       })[33m;[39m
     [90m 121 |[39m
    [31m[1m>[22m[39m[90m 122 |[39m       expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 123 |[39m       expect(queryResponse[33m.[39mdata[33m?[39m[33m.[39mresponse)[33m.[39mtoBeDefined()[33m;[39m
     [90m 124 |[39m       console[33m.[39mlog([32m`‚úì Inference successful with mistral model`[39m)[33m;[39m
     [90m 125 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:122:32[22m
[31m  73) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:127:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with neural-chat model [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 155 |[39m       })[33m;[39m
     [90m 156 |[39m
    [31m[1m>[22m[39m[90m 157 |[39m       expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 158 |[39m       expect(queryResponse[33m.[39mdata[33m?[39m[33m.[39mresponse)[33m.[39mtoBeDefined()[33m;[39m
     [90m 159 |[39m       console[33m.[39mlog([32m`‚úì Inference successful with neural-chat model`[39m)[33m;[39m
     [90m 160 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:157:32[22m
[31m  74) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:164:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Configuration ‚Ä∫ Should handle invalid model gracefully [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32m400[39m
    Received: [31m404[39m
    [0m [90m 193 |[39m
     [90m 194 |[39m       expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 195 |[39m       expect(queryResponse[33m.[39mstatus)[33m.[39mtoBe([35m400[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 196 |[39m       console[33m.[39mlog(
     [90m 197 |[39m         [32m`‚úì Invalid model rejected with status ${queryResponse.status}`[39m[33m,[39m
     [90m 198 |[39m       )[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:195:36[22m
[31m  75) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:201:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Configuration ‚Ä∫ Model metadata should be available [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 206 |[39m       })[33m;[39m
     [90m 207 |[39m
    [31m[1m>[22m[39m[90m 208 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 209 |[39m       expect(response[33m.[39mdata[33m?[39m[33m.[39mmodels)[33m.[39mtoBeDefined()[33m;[39m
     [90m 210 |[39m       expect([33mArray[39m[33m.[39misArray(response[33m.[39mdata[33m?[39m[33m.[39mmodels))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 211 |[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:208:27[22m
[31m  76) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:240:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Frontend Integration ‚Ä∫ Should support model switching during session [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 268 |[39m       })[33m;[39m
     [90m 269 |[39m
    [31m[1m>[22m[39m[90m 270 |[39m       expect(query1[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 271 |[39m
     [90m 272 |[39m       [90m// Query with model 2 (switch)[39m
     [90m 273 |[39m       [36mconst[39m query2 [33m=[39m [36mawait[39m apiRequest({[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:270:25[22m
[31m  77) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:7:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Auth service should respond in under 100ms [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 12 |[39m       })[33m;[39m
     [90m 13 |[39m
    [31m[1m>[22m[39m[90m 14 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 15 |[39m       expect(latency)[33m.[39mtoBeLessThan([33mTEST_DATA[39m[33m.[39m[33mPERFORMANCE_THRESHOLD_MS[39m)[33m;[39m
     [90m 16 |[39m       console[33m.[39mlog([32m`‚úì Auth latency: ${latency.toFixed(2)}ms`[39m)[33m;[39m
     [90m 17 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\performance.spec.ts:14:27[22m
[31m  78) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:31:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Funding service should respond in under 100ms [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 36 |[39m       })[33m;[39m
     [90m 37 |[39m
    [31m[1m>[22m[39m[90m 38 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 39 |[39m       expect(latency)[33m.[39mtoBeLessThan([33mTEST_DATA[39m[33m.[39m[33mPERFORMANCE_THRESHOLD_MS[39m)[33m;[39m
     [90m 40 |[39m       console[33m.[39mlog([32m`‚úì Funding latency: ${latency.toFixed(2)}ms`[39m)[33m;[39m
     [90m 41 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\performance.spec.ts:38:27[22m
[31m  79) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:43:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Policy service should respond in under 100ms [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 48 |[39m       })[33m;[39m
     [90m 49 |[39m
    [31m[1m>[22m[39m[90m 50 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 51 |[39m       expect(latency)[33m.[39mtoBeLessThan([33mTEST_DATA[39m[33m.[39m[33mPERFORMANCE_THRESHOLD_MS[39m)[33m;[39m
     [90m 52 |[39m       console[33m.[39mlog([32m`‚úì Policy latency: ${latency.toFixed(2)}ms`[39m)[33m;[39m
     [90m 53 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\performance.spec.ts:50:27[22m
[31m  80) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:55:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ LLM service should respond in under 100ms [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 60 |[39m       })[33m;[39m
     [90m 61 |[39m
    [31m[1m>[22m[39m[90m 62 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 63 |[39m       expect(latency)[33m.[39mtoBeLessThan([33mTEST_DATA[39m[33m.[39m[33mPERFORMANCE_THRESHOLD_MS[39m)[33m;[39m
     [90m 64 |[39m       console[33m.[39mlog([32m`‚úì LLM latency: ${latency.toFixed(2)}ms`[39m)[33m;[39m
     [90m 65 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\performance.spec.ts:62:27[22m
[31m  81) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:67:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Analytics service should respond in under 100ms [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 72 |[39m       })[33m;[39m
     [90m 73 |[39m
    [31m[1m>[22m[39m[90m 74 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 75 |[39m       expect(latency)[33m.[39mtoBeLessThan([33mTEST_DATA[39m[33m.[39m[33mPERFORMANCE_THRESHOLD_MS[39m)[33m;[39m
     [90m 76 |[39m       console[33m.[39mlog([32m`‚úì Analytics latency: ${latency.toFixed(2)}ms`[39m)[33m;[39m
     [90m 77 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\performance.spec.ts:74:27[22m
[31m  82) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:104:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Performance Baseline ‚Ä∫ All services should be operational [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 119 |[39m         })[33m;[39m
     [90m 120 |[39m
    [31m[1m>[22m[39m[90m 121 |[39m         expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 122 |[39m       }
     [90m 123 |[39m
     [90m 124 |[39m       console[33m.[39mlog([32m`‚úì All ${services.length} services operational`[39m)[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\performance.spec.ts:121:29[22m
[31m  83) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:7:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-User Rate Limiting ‚Ä∫ Should track requests per user [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 35 |[39m       })[33m;[39m
     [90m 36 |[39m
    [31m[1m>[22m[39m[90m 37 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 38 |[39m       [90m// Check for rate limit headers[39m
     [90m 39 |[39m       [36mconst[39m rateLimitLimit [33m=[39m response[33m.[39mheaders[[32m'x-ratelimit-limit'[39m][33m;[39m
     [90m 40 |[39m       [36mconst[39m rateLimitRemaining [33m=[39m response[33m.[39mheaders[[32m'x-ratelimit-remaining'[39m][33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:37:27[22m
[31m  84) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:105:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-Endpoint Rate Limiting ‚Ä∫ Should apply endpoint-specific limits [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 133 |[39m       })[33m;[39m
     [90m 134 |[39m
    [31m[1m>[22m[39m[90m 135 |[39m       expect(inferenceResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 136 |[39m
     [90m 137 |[39m       [90m// Test profile endpoint (different limit)[39m
     [90m 138 |[39m       [36mconst[39m profileResponse [33m=[39m [36mawait[39m apiRequest({[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:135:36[22m
[31m  85) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:151:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Time-Window Rate Limiting ‚Ä∫ Should reset limits on time window [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 179 |[39m       })[33m;[39m
     [90m 180 |[39m
    [31m[1m>[22m[39m[90m 181 |[39m       expect(response1[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 182 |[39m
     [90m 183 |[39m       [90m// Wait and make another request in new window[39m
     [90m 184 |[39m       [36mawait[39m [36mnew[39m [33mPromise[39m((resolve) [33m=>[39m setTimeout(resolve[33m,[39m [35m1100[39m))[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:181:28[22m
[31m  86) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:203:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Rate Limit Headers ‚Ä∫ Should include rate limit information in response headers [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 231 |[39m       })[33m;[39m
     [90m 232 |[39m
    [31m[1m>[22m[39m[90m 233 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 234 |[39m
     [90m 235 |[39m       [90m// Check for standard rate limit headers[39m
     [90m 236 |[39m       [36mconst[39m hasRateLimitHeaders [33m=[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:233:27[22m
[31m  87) [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:250:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Rate Limit Protection ‚Ä∫ Should protect against denial of service [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeGreaterThan[2m([22m[32mexpected[39m[2m)[22m
    Expected: > [32m0[39m
    Received:   [31m0[39m
    [0m [90m 287 |[39m       [90m// At least most should succeed (rate limit protection doesn't reject all)[39m
     [90m 288 |[39m       [36mconst[39m successCount [33m=[39m results[33m.[39mfilter((r) [33m=>[39m r[33m.[39mok)[33m.[39mlength[33m;[39m
    [31m[1m>[22m[39m[90m 289 |[39m       expect(successCount)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 290 |[39m
     [90m 291 |[39m       console[33m.[39mlog(
     [90m 292 |[39m         [32m`‚úì Rate limiting protects service (${successCount}/5 requests succeeded)`[39m[33m,[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:289:28[22m
[31m  88) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:120:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with llama2 model [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 133 |[39m       })[33m;[39m
     [90m 134 |[39m
    [31m[1m>[22m[39m[90m 135 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 136 |[39m       expect(response[33m.[39mdata)[33m.[39mtoBeDefined()[33m;[39m
     [90m 137 |[39m
     [90m 138 |[39m       [90m// Validate response structure[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\model-switching.spec.ts:135:27[22m
[31m  89) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:162:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with mistral model [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  90) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:194:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with neural-chat model [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  91) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:228:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Switching with Sequential Queries ‚Ä∫ Should switch between all 4 models and execute queries [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  92) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:281:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Switching with Sequential Queries ‚Ä∫ Should maintain model state across consecutive requests [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 297 |[39m         })[33m;[39m
     [90m 298 |[39m
    [31m[1m>[22m[39m[90m 299 |[39m         expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 300 |[39m         expect(response[33m.[39mdata)[33m.[39mtoBeDefined()[33m;[39m
     [90m 301 |[39m
     [90m 302 |[39m         [90m// Verify the model used is the one we requested[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\model-switching.spec.ts:299:29[22m
[31m  93) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:316:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model-Specific Response Validation ‚Ä∫ Should return valid response structure from each model [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 331 |[39m         })[33m;[39m
     [90m 332 |[39m
    [31m[1m>[22m[39m[90m 333 |[39m         expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 334 |[39m         [36mconst[39m responseData [33m=[39m response[33m.[39mdata [36mas[39m any[33m;[39m
     [90m 335 |[39m
     [90m 336 |[39m         [90m// Response should have timestamp in data or wrapper[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\model-switching.spec.ts:333:29[22m
[31m  94) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:357:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model-Specific Response Validation ‚Ä∫ Should include model identification in response [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  95) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:424:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Error Handling and Edge Cases ‚Ä∫ Should validate model selection required [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  96) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:445:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Performance with Model Switching ‚Ä∫ Should handle rapid model switches under 2 seconds per query [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 461 |[39m         })[33m;[39m
     [90m 462 |[39m
    [31m[1m>[22m[39m[90m 463 |[39m         expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 464 |[39m       }
     [90m 465 |[39m
     [90m 466 |[39m       [36mconst[39m totalTime [33m=[39m [33mDate[39m[33m.[39mnow() [33m-[39m startTime[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\model-switching.spec.ts:463:29[22m
[31m  97) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:476:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Integration: Frontend Model Selector Scenario ‚Ä∫ Should complete full user workflow: list models > select model > generate query [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  98) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:551:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Integration: Frontend Model Selector Scenario ‚Ä∫ Should persist selected model in UI state across multiple queries [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  99) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:141:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should complete inference within timeout window [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  100) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:182:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should handle concurrent inference requests [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  101) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:229:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should rate-limit excessive requests appropriately [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  102) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:280:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Data Consistency Across Services ‚Ä∫ Should maintain consistent user data across auth and analytics [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 307 |[39m       })[33m;[39m
     [90m 308 |[39m
    [31m[1m>[22m[39m[90m 309 |[39m       expect(authProfileResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                      [31m[1m^[22m[39m
     [90m 310 |[39m       console[33m.[39mlog([32m`‚úì User profile accessible in auth service`[39m)[33m;[39m
     [90m 311 |[39m
     [90m 312 |[39m       [90m// Execute an analytics event[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:309:38[22m
[31m  103) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:338:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Data Consistency Across Services ‚Ä∫ Should track inference requests with correct user context [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  104) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:425:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Service Failure Isolation ‚Ä∫ Should gracefully degrade when LLM service is unavailable [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  105) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:476:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Session & Token Management ‚Ä∫ Should maintain session across multiple requests [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  106) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:515:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Session & Token Management ‚Ä∫ Should prevent token reuse after expiration [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 539 |[39m       })[33m;[39m
     [90m 540 |[39m
    [31m[1m>[22m[39m[90m 541 |[39m       expect(immediateResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 542 |[39m       console[33m.[39mlog([32m`‚úì Valid token accepted`[39m)[33m;[39m
     [90m 543 |[39m
     [90m 544 |[39m       [90m// After expiration, token should be rejected[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:541:36[22m
[31m  107) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:79:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Event Telemetry Pipeline ‚Ä∫ Should capture inference execution events [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  108) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:177:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should include required telemetry fields [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeDefined[2m()[22m
    Received: [31mundefined[39m
    [0m [90m 194 |[39m
     [90m 195 |[39m       [90m// Response should contain user ID for tracking[39m
    [31m[1m>[22m[39m[90m 196 |[39m       expect(userId)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 197 |[39m       expect([36mtypeof[39m userId)[33m.[39mtoBe([32m'string'[39m)[33m;[39m
     [90m 198 |[39m       console[33m.[39mlog([32m`‚úì Telemetry user ID present in response`[39m)[33m;[39m
     [90m 199 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\telemetry-validation.spec.ts:196:22[22m
[31m  109) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:221:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should correlate events with user session [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  110) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:352:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ WebSocket Stability (Real-time Events) ‚Ä∫ Should report ready status when dependencies available [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeLessThan[2m([22m[32mexpected[39m[2m)[22m
    Expected: < [32m500[39m
    Received:   [31m500[39m
    [0m [90m 358 |[39m
     [90m 359 |[39m       [90m// Should be ready or not ready, but endpoint should exist[39m
    [31m[1m>[22m[39m[90m 360 |[39m       expect(readyResponse[33m.[39mstatus)[33m.[39mtoBeLessThan([35m500[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 361 |[39m       console[33m.[39mlog([32m`‚úì Readiness check available (status: ${readyResponse.status})`[39m)[33m;[39m
     [90m 362 |[39m     })[33m;[39m
     [90m 363 |[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\telemetry-validation.spec.ts:360:36[22m
[31m  111) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:417:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ End-to-End Message Flow ‚Ä∫ Should flow events through complete pipeline [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  112) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:7:9 ‚Ä∫ E2E Workflows ‚Ä∫ User Registration & Login Flow ‚Ä∫ Should complete full registration workflow [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeDefined[2m()[22m
    Received: [31mundefined[39m
    [0m [90m 21 |[39m
     [90m 22 |[39m       expect(registerResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m       expect(registerResponse[33m.[39mdata[33m?[39m[33m.[39muserId)[33m.[39mtoBeDefined()[33m;[39m
     [90m    |[39m                                             [31m[1m^[22m[39m
     [90m 24 |[39m       expect(registerResponse[33m.[39mdata[33m?[39m[33m.[39mtoken)[33m.[39mtoBeDefined()[33m;[39m
     [90m 25 |[39m       console[33m.[39mlog([32m`‚úì User registered: ${testUser.email}`[39m)[33m;[39m
     [90m 26 |[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:23:45[22m
[31m  113) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:43:9 ‚Ä∫ E2E Workflows ‚Ä∫ User Registration & Login Flow ‚Ä∫ Should complete full login workflow [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 84 |[39m       })[33m;[39m
     [90m 85 |[39m
    [31m[1m>[22m[39m[90m 86 |[39m       expect(profileResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                                  [31m[1m^[22m[39m
     [90m 87 |[39m       console[33m.[39mlog([32m`‚úì Authenticated request successful`[39m)[33m;[39m
     [90m 88 |[39m     })[33m;[39m
     [90m 89 |[39m   })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:86:34[22m
[31m  114) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:92:9 ‚Ä∫ E2E Workflows ‚Ä∫ Query & Inference Workflow ‚Ä∫ Should execute complete query workflow [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 122 |[39m       })[33m;[39m
     [90m 123 |[39m
    [31m[1m>[22m[39m[90m 124 |[39m       expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 125 |[39m       expect(queryResponse[33m.[39mdata[33m?[39m[33m.[39mresponse)[33m.[39mtoBeDefined()[33m;[39m
     [90m 126 |[39m       console[33m.[39mlog([32m`‚úì Inference executed with ${testQuery.model}`[39m)[33m;[39m
     [90m 127 |[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:124:32[22m
[31m  115) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:139:9 ‚Ä∫ E2E Workflows ‚Ä∫ Query & Inference Workflow ‚Ä∫ Should support multiple queries in session [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 174 |[39m         })[33m;[39m
     [90m 175 |[39m
    [31m[1m>[22m[39m[90m 176 |[39m         expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 177 |[39m         queryResults[33m.[39mpush(queryResponse[33m.[39mdata)[33m;[39m
     [90m 178 |[39m         console[33m.[39mlog([32m`‚úì Query ${i + 1} executed with ${query.model}`[39m)[33m;[39m
     [90m 179 |[39m       }[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:176:34[22m
[31m  116) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:197:9 ‚Ä∫ E2E Workflows ‚Ä∫ Cross-Service Integration ‚Ä∫ Should coordinate between auth and inference services [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 226 |[39m       })[33m;[39m
     [90m 227 |[39m
    [31m[1m>[22m[39m[90m 228 |[39m       expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 229 |[39m       console[33m.[39mlog([32m`‚úì LLM service: Query executed`[39m)[33m;[39m
     [90m 230 |[39m
     [90m 231 |[39m       [90m// Step 3: Analytics service - Track[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:228:32[22m
[31m  117) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:242:9 ‚Ä∫ E2E Workflows ‚Ä∫ Cross-Service Integration ‚Ä∫ Should maintain session across services [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 267 |[39m       })[33m;[39m
     [90m 268 |[39m
    [31m[1m>[22m[39m[90m 269 |[39m       expect(authCheck[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 270 |[39m
     [90m 271 |[39m       [36mconst[39m query [33m=[39m [36mawait[39m apiRequest({
     [90m 272 |[39m         method[33m:[39m [32m'POST'[39m[33m,[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:269:28[22m
[31m  118) [firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:370:9 ‚Ä∫ E2E Workflows ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle invalid requests properly [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32m400[39m
    Received: [31m404[39m
    [0m [90m 398 |[39m
     [90m 399 |[39m       expect(invalidQuery[33m.[39mok)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 400 |[39m       expect(invalidQuery[33m.[39mstatus)[33m.[39mtoBe([35m400[39m)[33m;[39m
     [90m     |[39m                                   [31m[1m^[22m[39m
     [90m 401 |[39m       console[33m.[39mlog(
     [90m 402 |[39m         [32m`‚úì Invalid request rejected (status: ${invalidQuery.status})`[39m[33m,[39m
     [90m 403 |[39m       )[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:400:35[22m
[31m  119) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:7:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ User Action Logging ‚Ä∫ Should log user registration [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeDefined[2m()[22m
    Received: [31mundefined[39m
    [0m [90m 20 |[39m
     [90m 21 |[39m       expect(registerResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 22 |[39m       expect(registerResponse[33m.[39mdata[33m?[39m[33m.[39muserId)[33m.[39mtoBeDefined()[33m;[39m
     [90m    |[39m                                             [31m[1m^[22m[39m
     [90m 23 |[39m       console[33m.[39mlog([32m`‚úì Registration logged for user: ${testUser.email}`[39m)[33m;[39m
     [90m 24 |[39m
     [90m 25 |[39m       [90m// Verify audit log exists[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:22:45[22m
[31m  120) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:39:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ User Action Logging ‚Ä∫ Should log user login [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 75 |[39m       })[33m;[39m
     [90m 76 |[39m
    [31m[1m>[22m[39m[90m 77 |[39m       expect(auditResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 78 |[39m       [36mconst[39m logs [33m=[39m auditResponse[33m.[39mdata[33m?[39m[33m.[39mlogs [33m||[39m [][33m;[39m
     [90m 79 |[39m       expect(logs[33m.[39mlength)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m 80 |[39m       console[33m.[39mlog([0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:77:32[22m
[31m  121) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:87:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Query Tracking ‚Ä∫ Should track LLM inference queries [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 115 |[39m       })[33m;[39m
     [90m 116 |[39m
    [31m[1m>[22m[39m[90m 117 |[39m       expect(inferenceResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 118 |[39m       console[33m.[39mlog([32m`‚úì Inference query executed and tracked`[39m)[33m;[39m
     [90m 119 |[39m
     [90m 120 |[39m       [90m// Verify tracking in analytics[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:117:36[22m
[31m  122) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:133:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Log Integrity ‚Ä∫ Logs should be immutable (no modification possible) [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32m403[39m
    Received: [31m404[39m
    [0m [90m 159 |[39m
     [90m 160 |[39m       [90m// Should be forbidden[39m
    [31m[1m>[22m[39m[90m 161 |[39m       expect(modifyResponse[33m.[39mstatus)[33m.[39mtoBe([35m403[39m)[33m;[39m
     [90m     |[39m                                     [31m[1m^[22m[39m
     [90m 162 |[39m       console[33m.[39mlog(
     [90m 163 |[39m         [32m`‚úì Audit logs are protected from modification (status: ${modifyResponse.status})`[39m[33m,[39m
     [90m 164 |[39m       )[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:161:37[22m
[31m  123) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:167:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Log Integrity ‚Ä∫ All audit operations should be timestamped [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 188 |[39m       })[33m;[39m
     [90m 189 |[39m
    [31m[1m>[22m[39m[90m 190 |[39m       expect(auditResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 191 |[39m       [36mconst[39m logs [33m=[39m auditResponse[33m.[39mdata[33m?[39m[33m.[39mlogs [33m||[39m [][33m;[39m
     [90m 192 |[39m
     [90m 193 |[39m       [90m// Verify all logs have timestamps[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:190:32[22m
[31m  124) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:90:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Data Persistence ‚Ä∫ Stored data should persist across requests [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 114 |[39m       })[33m;[39m
     [90m 115 |[39m
    [31m[1m>[22m[39m[90m 116 |[39m       expect(profileResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 117 |[39m       expect(profileResponse[33m.[39mdata[33m?[39m[33m.[39memail)[33m.[39mtoBe(email)[33m;[39m
     [90m 118 |[39m       console[33m.[39mlog([32m`‚úì User data persisted: ${email}`[39m)[33m;[39m
     [90m 119 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\database.spec.ts:116:34[22m
[31m  125) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:121:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Data Persistence ‚Ä∫ Multiple database operations should maintain consistency [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 147 |[39m       })[33m;[39m
     [90m 148 |[39m
    [31m[1m>[22m[39m[90m 149 |[39m       expect(updateResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 150 |[39m
     [90m 151 |[39m       [90m// Operation 3: Verify update[39m
     [90m 152 |[39m       [36mconst[39m profileResponse [33m=[39m [36mawait[39m apiRequest({[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\database.spec.ts:149:33[22m
[31m  126) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:165:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Query Performance ‚Ä∫ Database queries should execute quickly [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 192 |[39m       [36mconst[39m queryTime [33m=[39m performance[33m.[39mnow() [33m-[39m startTime[33m;[39m
     [90m 193 |[39m
    [31m[1m>[22m[39m[90m 194 |[39m       expect(profileResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 195 |[39m       expect(queryTime)[33m.[39mtoBeLessThan([35m500[39m)[33m;[39m [90m// Should be under 500ms[39m
     [90m 196 |[39m       console[33m.[39mlog([32m`‚úì Query executed in ${queryTime.toFixed(2)}ms`[39m)[33m;[39m
     [90m 197 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\database.spec.ts:194:34[22m
[31m  127) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:201:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Database Health ‚Ä∫ PostgreSQL connection should be healthy [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeDefined[2m()[22m
    Received: [31mundefined[39m
    [0m [90m 207 |[39m
     [90m 208 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 209 |[39m       expect(response[33m.[39mdata[33m?[39m[33m.[39mdatabase)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                                       [31m[1m^[22m[39m
     [90m 210 |[39m       console[33m.[39mlog([32m`‚úì Database health: OK`[39m)[33m;[39m
     [90m 211 |[39m     })[33m;[39m
     [90m 212 |[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\database.spec.ts:209:39[22m
[31m  128) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:213:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Database Health ‚Ä∫ Connection pool status should be available [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 218 |[39m       })[33m;[39m
     [90m 219 |[39m
    [31m[1m>[22m[39m[90m 220 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 221 |[39m       expect(response[33m.[39mdata[33m?[39m[33m.[39mpoolSize)[33m.[39mtoBeDefined()[33m;[39m
     [90m 222 |[39m       expect(response[33m.[39mdata[33m?[39m[33m.[39mactiveConnections)[33m.[39mtoBeDefined()[33m;[39m
     [90m 223 |[39m       console[33m.[39mlog([0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\database.spec.ts:220:27[22m
[31m  129) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:22:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Availability ‚Ä∫ Should include required models [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m
    Expected value: [32m"llama2"[39m
    Received array: [31m[{"contextWindow": 8192, "description": "Values-first constitutional reasoning with enumerated powers citations", "id": "liberty-mistral-v1.0", "name": "Liberty Mistral v1.0", "provider": "local"}, {"contextWindow": 8192, "description": "General-styled Mistral instruct model", "id": "mistral", "name": "Mistral 7B Instruct (Ollama)", "provider": "ollama-maintained"}, {"contextWindow": 4096, "description": "Ollama-hosted Llama 2 baseline", "id": "llama2", "name": "Llama 2", "provider": "ollama"}, {"contextWindow": 4096, "description": "Legacy Neural Chat endpoint", "id": "neural-chat", "name": "Neural Chat", "provider": "ollama"}][39m
    [0m [90m 32 |[39m       [90m// Verify expected models are available[39m
     [90m 33 |[39m       [36mfor[39m ([36mconst[39m model [36mof[39m [33mTEST_DATA[39m[33m.[39m[33mAVAILABLE_MODELS[39m) {
    [31m[1m>[22m[39m[90m 34 |[39m         expect(models)[33m.[39mtoContain(model)[33m;[39m
     [90m    |[39m                        [31m[1m^[22m[39m
     [90m 35 |[39m       }
     [90m 36 |[39m
     [90m 37 |[39m       console[33m.[39mlog([0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:34:24[22m
[31m  130) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:57:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with llama2 model [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 85 |[39m       })[33m;[39m
     [90m 86 |[39m
    [31m[1m>[22m[39m[90m 87 |[39m       expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                                [31m[1m^[22m[39m
     [90m 88 |[39m       expect(queryResponse[33m.[39mdata[33m?[39m[33m.[39mresponse)[33m.[39mtoBeDefined()[33m;[39m
     [90m 89 |[39m       console[33m.[39mlog([32m`‚úì Inference successful with llama2 model`[39m)[33m;[39m
     [90m 90 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:87:32[22m
[31m  131) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:92:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with mistral model [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 120 |[39m       })[33m;[39m
     [90m 121 |[39m
    [31m[1m>[22m[39m[90m 122 |[39m       expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 123 |[39m       expect(queryResponse[33m.[39mdata[33m?[39m[33m.[39mresponse)[33m.[39mtoBeDefined()[33m;[39m
     [90m 124 |[39m       console[33m.[39mlog([32m`‚úì Inference successful with mistral model`[39m)[33m;[39m
     [90m 125 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:122:32[22m
[31m  132) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:127:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with neural-chat model [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 155 |[39m       })[33m;[39m
     [90m 156 |[39m
    [31m[1m>[22m[39m[90m 157 |[39m       expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 158 |[39m       expect(queryResponse[33m.[39mdata[33m?[39m[33m.[39mresponse)[33m.[39mtoBeDefined()[33m;[39m
     [90m 159 |[39m       console[33m.[39mlog([32m`‚úì Inference successful with neural-chat model`[39m)[33m;[39m
     [90m 160 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:157:32[22m
[31m  133) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:164:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Configuration ‚Ä∫ Should handle invalid model gracefully [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32m400[39m
    Received: [31m404[39m
    [0m [90m 193 |[39m
     [90m 194 |[39m       expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 195 |[39m       expect(queryResponse[33m.[39mstatus)[33m.[39mtoBe([35m400[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 196 |[39m       console[33m.[39mlog(
     [90m 197 |[39m         [32m`‚úì Invalid model rejected with status ${queryResponse.status}`[39m[33m,[39m
     [90m 198 |[39m       )[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:195:36[22m
[31m  134) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:201:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Configuration ‚Ä∫ Model metadata should be available [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 206 |[39m       })[33m;[39m
     [90m 207 |[39m
    [31m[1m>[22m[39m[90m 208 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 209 |[39m       expect(response[33m.[39mdata[33m?[39m[33m.[39mmodels)[33m.[39mtoBeDefined()[33m;[39m
     [90m 210 |[39m       expect([33mArray[39m[33m.[39misArray(response[33m.[39mdata[33m?[39m[33m.[39mmodels))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 211 |[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:208:27[22m
[31m  135) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:240:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Frontend Integration ‚Ä∫ Should support model switching during session [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 268 |[39m       })[33m;[39m
     [90m 269 |[39m
    [31m[1m>[22m[39m[90m 270 |[39m       expect(query1[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 271 |[39m
     [90m 272 |[39m       [90m// Query with model 2 (switch)[39m
     [90m 273 |[39m       [36mconst[39m query2 [33m=[39m [36mawait[39m apiRequest({[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:270:25[22m
[31m  136) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:7:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Auth service should respond in under 100ms [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 12 |[39m       })[33m;[39m
     [90m 13 |[39m
    [31m[1m>[22m[39m[90m 14 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 15 |[39m       expect(latency)[33m.[39mtoBeLessThan([33mTEST_DATA[39m[33m.[39m[33mPERFORMANCE_THRESHOLD_MS[39m)[33m;[39m
     [90m 16 |[39m       console[33m.[39mlog([32m`‚úì Auth latency: ${latency.toFixed(2)}ms`[39m)[33m;[39m
     [90m 17 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\performance.spec.ts:14:27[22m
[31m  137) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:31:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Funding service should respond in under 100ms [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 36 |[39m       })[33m;[39m
     [90m 37 |[39m
    [31m[1m>[22m[39m[90m 38 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 39 |[39m       expect(latency)[33m.[39mtoBeLessThan([33mTEST_DATA[39m[33m.[39m[33mPERFORMANCE_THRESHOLD_MS[39m)[33m;[39m
     [90m 40 |[39m       console[33m.[39mlog([32m`‚úì Funding latency: ${latency.toFixed(2)}ms`[39m)[33m;[39m
     [90m 41 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\performance.spec.ts:38:27[22m
[31m  138) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:43:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Policy service should respond in under 100ms [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 48 |[39m       })[33m;[39m
     [90m 49 |[39m
    [31m[1m>[22m[39m[90m 50 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 51 |[39m       expect(latency)[33m.[39mtoBeLessThan([33mTEST_DATA[39m[33m.[39m[33mPERFORMANCE_THRESHOLD_MS[39m)[33m;[39m
     [90m 52 |[39m       console[33m.[39mlog([32m`‚úì Policy latency: ${latency.toFixed(2)}ms`[39m)[33m;[39m
     [90m 53 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\performance.spec.ts:50:27[22m
[31m  139) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:55:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ LLM service should respond in under 100ms [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 60 |[39m       })[33m;[39m
     [90m 61 |[39m
    [31m[1m>[22m[39m[90m 62 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 63 |[39m       expect(latency)[33m.[39mtoBeLessThan([33mTEST_DATA[39m[33m.[39m[33mPERFORMANCE_THRESHOLD_MS[39m)[33m;[39m
     [90m 64 |[39m       console[33m.[39mlog([32m`‚úì LLM latency: ${latency.toFixed(2)}ms`[39m)[33m;[39m
     [90m 65 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\performance.spec.ts:62:27[22m
[31m  140) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:67:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Analytics service should respond in under 100ms [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 72 |[39m       })[33m;[39m
     [90m 73 |[39m
    [31m[1m>[22m[39m[90m 74 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 75 |[39m       expect(latency)[33m.[39mtoBeLessThan([33mTEST_DATA[39m[33m.[39m[33mPERFORMANCE_THRESHOLD_MS[39m)[33m;[39m
     [90m 76 |[39m       console[33m.[39mlog([32m`‚úì Analytics latency: ${latency.toFixed(2)}ms`[39m)[33m;[39m
     [90m 77 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\performance.spec.ts:74:27[22m
[31m  141) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:104:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Performance Baseline ‚Ä∫ All services should be operational [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 119 |[39m         })[33m;[39m
     [90m 120 |[39m
    [31m[1m>[22m[39m[90m 121 |[39m         expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 122 |[39m       }
     [90m 123 |[39m
     [90m 124 |[39m       console[33m.[39mlog([32m`‚úì All ${services.length} services operational`[39m)[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\performance.spec.ts:121:29[22m
[31m  142) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:7:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-User Rate Limiting ‚Ä∫ Should track requests per user [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 35 |[39m       })[33m;[39m
     [90m 36 |[39m
    [31m[1m>[22m[39m[90m 37 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 38 |[39m       [90m// Check for rate limit headers[39m
     [90m 39 |[39m       [36mconst[39m rateLimitLimit [33m=[39m response[33m.[39mheaders[[32m'x-ratelimit-limit'[39m][33m;[39m
     [90m 40 |[39m       [36mconst[39m rateLimitRemaining [33m=[39m response[33m.[39mheaders[[32m'x-ratelimit-remaining'[39m][33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:37:27[22m
[31m  143) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:105:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-Endpoint Rate Limiting ‚Ä∫ Should apply endpoint-specific limits [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 133 |[39m       })[33m;[39m
     [90m 134 |[39m
    [31m[1m>[22m[39m[90m 135 |[39m       expect(inferenceResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 136 |[39m
     [90m 137 |[39m       [90m// Test profile endpoint (different limit)[39m
     [90m 138 |[39m       [36mconst[39m profileResponse [33m=[39m [36mawait[39m apiRequest({[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:135:36[22m
[31m  144) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:151:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Time-Window Rate Limiting ‚Ä∫ Should reset limits on time window [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 179 |[39m       })[33m;[39m
     [90m 180 |[39m
    [31m[1m>[22m[39m[90m 181 |[39m       expect(response1[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 182 |[39m
     [90m 183 |[39m       [90m// Wait and make another request in new window[39m
     [90m 184 |[39m       [36mawait[39m [36mnew[39m [33mPromise[39m((resolve) [33m=>[39m setTimeout(resolve[33m,[39m [35m1100[39m))[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:181:28[22m
[31m  145) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:203:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Rate Limit Headers ‚Ä∫ Should include rate limit information in response headers [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 231 |[39m       })[33m;[39m
     [90m 232 |[39m
    [31m[1m>[22m[39m[90m 233 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 234 |[39m
     [90m 235 |[39m       [90m// Check for standard rate limit headers[39m
     [90m 236 |[39m       [36mconst[39m hasRateLimitHeaders [33m=[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:233:27[22m
[31m  146) [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:250:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Rate Limit Protection ‚Ä∫ Should protect against denial of service [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeGreaterThan[2m([22m[32mexpected[39m[2m)[22m
    Expected: > [32m0[39m
    Received:   [31m0[39m
    [0m [90m 287 |[39m       [90m// At least most should succeed (rate limit protection doesn't reject all)[39m
     [90m 288 |[39m       [36mconst[39m successCount [33m=[39m results[33m.[39mfilter((r) [33m=>[39m r[33m.[39mok)[33m.[39mlength[33m;[39m
    [31m[1m>[22m[39m[90m 289 |[39m       expect(successCount)[33m.[39mtoBeGreaterThan([35m0[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 290 |[39m
     [90m 291 |[39m       console[33m.[39mlog(
     [90m 292 |[39m         [32m`‚úì Rate limiting protects service (${successCount}/5 requests succeeded)`[39m[33m,[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:289:28[22m
[31m  147) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:120:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with llama2 model [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 133 |[39m       })[33m;[39m
     [90m 134 |[39m
    [31m[1m>[22m[39m[90m 135 |[39m       expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                           [31m[1m^[22m[39m
     [90m 136 |[39m       expect(response[33m.[39mdata)[33m.[39mtoBeDefined()[33m;[39m
     [90m 137 |[39m
     [90m 138 |[39m       [90m// Validate response structure[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\model-switching.spec.ts:135:27[22m
[31m  148) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:162:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with mistral model [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  149) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:194:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with neural-chat model [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  150) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:228:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Switching with Sequential Queries ‚Ä∫ Should switch between all 4 models and execute queries [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  151) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:281:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Switching with Sequential Queries ‚Ä∫ Should maintain model state across consecutive requests [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 297 |[39m         })[33m;[39m
     [90m 298 |[39m
    [31m[1m>[22m[39m[90m 299 |[39m         expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 300 |[39m         expect(response[33m.[39mdata)[33m.[39mtoBeDefined()[33m;[39m
     [90m 301 |[39m
     [90m 302 |[39m         [90m// Verify the model used is the one we requested[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\model-switching.spec.ts:299:29[22m
[31m  152) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:316:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model-Specific Response Validation ‚Ä∫ Should return valid response structure from each model [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 331 |[39m         })[33m;[39m
     [90m 332 |[39m
    [31m[1m>[22m[39m[90m 333 |[39m         expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 334 |[39m         [36mconst[39m responseData [33m=[39m response[33m.[39mdata [36mas[39m any[33m;[39m
     [90m 335 |[39m
     [90m 336 |[39m         [90m// Response should have timestamp in data or wrapper[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\model-switching.spec.ts:333:29[22m
[31m  153) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:357:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model-Specific Response Validation ‚Ä∫ Should include model identification in response [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  154) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:424:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Error Handling and Edge Cases ‚Ä∫ Should validate model selection required [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  155) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:445:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Performance with Model Switching ‚Ä∫ Should handle rapid model switches under 2 seconds per query [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 461 |[39m         })[33m;[39m
     [90m 462 |[39m
    [31m[1m>[22m[39m[90m 463 |[39m         expect(response[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 464 |[39m       }
     [90m 465 |[39m
     [90m 466 |[39m       [36mconst[39m totalTime [33m=[39m [33mDate[39m[33m.[39mnow() [33m-[39m startTime[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\model-switching.spec.ts:463:29[22m
[31m  156) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:476:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Integration: Frontend Model Selector Scenario ‚Ä∫ Should complete full user workflow: list models > select model > generate query [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  157) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:551:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Integration: Frontend Model Selector Scenario ‚Ä∫ Should persist selected model in UI state across multiple queries [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  158) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:141:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should complete inference within timeout window [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  159) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:182:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should handle concurrent inference requests [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  160) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:229:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should rate-limit excessive requests appropriately [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  161) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:280:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Data Consistency Across Services ‚Ä∫ Should maintain consistent user data across auth and analytics [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 307 |[39m       })[33m;[39m
     [90m 308 |[39m
    [31m[1m>[22m[39m[90m 309 |[39m       expect(authProfileResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                      [31m[1m^[22m[39m
     [90m 310 |[39m       console[33m.[39mlog([32m`‚úì User profile accessible in auth service`[39m)[33m;[39m
     [90m 311 |[39m
     [90m 312 |[39m       [90m// Execute an analytics event[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:309:38[22m
[31m  162) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:338:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Data Consistency Across Services ‚Ä∫ Should track inference requests with correct user context [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  163) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:425:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Service Failure Isolation ‚Ä∫ Should gracefully degrade when LLM service is unavailable [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  164) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:476:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Session & Token Management ‚Ä∫ Should maintain session across multiple requests [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  165) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:515:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Session & Token Management ‚Ä∫ Should prevent token reuse after expiration [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 539 |[39m       })[33m;[39m
     [90m 540 |[39m
    [31m[1m>[22m[39m[90m 541 |[39m       expect(immediateResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 542 |[39m       console[33m.[39mlog([32m`‚úì Valid token accepted`[39m)[33m;[39m
     [90m 543 |[39m
     [90m 544 |[39m       [90m// After expiration, token should be rejected[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:541:36[22m
[31m  166) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:79:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Event Telemetry Pipeline ‚Ä∫ Should capture inference execution events [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  167) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:177:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should include required telemetry fields [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeDefined[2m()[22m
    Received: [31mundefined[39m
    [0m [90m 194 |[39m
     [90m 195 |[39m       [90m// Response should contain user ID for tracking[39m
    [31m[1m>[22m[39m[90m 196 |[39m       expect(userId)[33m.[39mtoBeDefined()[33m;[39m
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 197 |[39m       expect([36mtypeof[39m userId)[33m.[39mtoBe([32m'string'[39m)[33m;[39m
     [90m 198 |[39m       console[33m.[39mlog([32m`‚úì Telemetry user ID present in response`[39m)[33m;[39m
     [90m 199 |[39m     })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\telemetry-validation.spec.ts:196:22[22m
[31m  168) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:221:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should correlate events with user session [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  169) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:352:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ WebSocket Stability (Real-time Events) ‚Ä∫ Should report ready status when dependencies available [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeLessThan[2m([22m[32mexpected[39m[2m)[22m
    Expected: < [32m500[39m
    Received:   [31m500[39m
    [0m [90m 358 |[39m
     [90m 359 |[39m       [90m// Should be ready or not ready, but endpoint should exist[39m
    [31m[1m>[22m[39m[90m 360 |[39m       expect(readyResponse[33m.[39mstatus)[33m.[39mtoBeLessThan([35m500[39m)[33m;[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 361 |[39m       console[33m.[39mlog([32m`‚úì Readiness check available (status: ${readyResponse.status})`[39m)[33m;[39m
     [90m 362 |[39m     })[33m;[39m
     [90m 363 |[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\telemetry-validation.spec.ts:360:36[22m
[31m  170) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:417:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ End-to-End Message Flow ‚Ä∫ Should flow events through complete pipeline [39m
    [31mTest timeout of 30000ms exceeded.[39m
[31m  171) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:7:9 ‚Ä∫ E2E Workflows ‚Ä∫ User Registration & Login Flow ‚Ä∫ Should complete full registration workflow [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBeDefined[2m()[22m
    Received: [31mundefined[39m
    [0m [90m 21 |[39m
     [90m 22 |[39m       expect(registerResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 23 |[39m       expect(registerResponse[33m.[39mdata[33m?[39m[33m.[39muserId)[33m.[39mtoBeDefined()[33m;[39m
     [90m    |[39m                                             [31m[1m^[22m[39m
     [90m 24 |[39m       expect(registerResponse[33m.[39mdata[33m?[39m[33m.[39mtoken)[33m.[39mtoBeDefined()[33m;[39m
     [90m 25 |[39m       console[33m.[39mlog([32m`‚úì User registered: ${testUser.email}`[39m)[33m;[39m
     [90m 26 |[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:23:45[22m
[31m  172) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:43:9 ‚Ä∫ E2E Workflows ‚Ä∫ User Registration & Login Flow ‚Ä∫ Should complete full login workflow [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 84 |[39m       })[33m;[39m
     [90m 85 |[39m
    [31m[1m>[22m[39m[90m 86 |[39m       expect(profileResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m    |[39m                                  [31m[1m^[22m[39m
     [90m 87 |[39m       console[33m.[39mlog([32m`‚úì Authenticated request successful`[39m)[33m;[39m
     [90m 88 |[39m     })[33m;[39m
     [90m 89 |[39m   })[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:86:34[22m
[31m  173) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:92:9 ‚Ä∫ E2E Workflows ‚Ä∫ Query & Inference Workflow ‚Ä∫ Should execute complete query workflow [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 122 |[39m       })[33m;[39m
     [90m 123 |[39m
    [31m[1m>[22m[39m[90m 124 |[39m       expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 125 |[39m       expect(queryResponse[33m.[39mdata[33m?[39m[33m.[39mresponse)[33m.[39mtoBeDefined()[33m;[39m
     [90m 126 |[39m       console[33m.[39mlog([32m`‚úì Inference executed with ${testQuery.model}`[39m)[33m;[39m
     [90m 127 |[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:124:32[22m
[31m  174) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:139:9 ‚Ä∫ E2E Workflows ‚Ä∫ Query & Inference Workflow ‚Ä∫ Should support multiple queries in session [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 174 |[39m         })[33m;[39m
     [90m 175 |[39m
    [31m[1m>[22m[39m[90m 176 |[39m         expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 177 |[39m         queryResults[33m.[39mpush(queryResponse[33m.[39mdata)[33m;[39m
     [90m 178 |[39m         console[33m.[39mlog([32m`‚úì Query ${i + 1} executed with ${query.model}`[39m)[33m;[39m
     [90m 179 |[39m       }[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:176:34[22m
[31m  175) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:197:9 ‚Ä∫ E2E Workflows ‚Ä∫ Cross-Service Integration ‚Ä∫ Should coordinate between auth and inference services [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 226 |[39m       })[33m;[39m
     [90m 227 |[39m
    [31m[1m>[22m[39m[90m 228 |[39m       expect(queryResponse[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 229 |[39m       console[33m.[39mlog([32m`‚úì LLM service: Query executed`[39m)[33m;[39m
     [90m 230 |[39m
     [90m 231 |[39m       [90m// Step 3: Analytics service - Track[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:228:32[22m
[31m  176) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:242:9 ‚Ä∫ E2E Workflows ‚Ä∫ Cross-Service Integration ‚Ä∫ Should maintain session across services [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32mtrue[39m
    Received: [31mfalse[39m
    [0m [90m 267 |[39m       })[33m;[39m
     [90m 268 |[39m
    [31m[1m>[22m[39m[90m 269 |[39m       expect(authCheck[33m.[39mok)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 270 |[39m
     [90m 271 |[39m       [36mconst[39m query [33m=[39m [36mawait[39m apiRequest({
     [90m 272 |[39m         method[33m:[39m [32m'POST'[39m[33m,[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:269:28[22m
[31m  177) [webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:370:9 ‚Ä∫ E2E Workflows ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle invalid requests properly [39m
    Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m
    Expected: [32m400[39m
    Received: [31m404[39m
    [0m [90m 398 |[39m
     [90m 399 |[39m       expect(invalidQuery[33m.[39mok)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 400 |[39m       expect(invalidQuery[33m.[39mstatus)[33m.[39mtoBe([35m400[39m)[33m;[39m
     [90m     |[39m                                   [31m[1m^[22m[39m
     [90m 401 |[39m       console[33m.[39mlog(
     [90m 402 |[39m         [32m`‚úì Invalid request rejected (status: ${invalidQuery.status})`[39m[33m,[39m
     [90m 403 |[39m       )[33m;[39m[0m
    [2m    at C:\repos\patriotchat\apps\api-e2e\src\workflows\user-journey.spec.ts:400:35[22m
[31m  177 failed[39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:7:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ User Action Logging ‚Ä∫ Should log user registration [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:39:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ User Action Logging ‚Ä∫ Should log user login [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:87:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Query Tracking ‚Ä∫ Should track LLM inference queries [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:133:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Log Integrity ‚Ä∫ Logs should be immutable (no modification possible) [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:167:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Log Integrity ‚Ä∫ All audit operations should be timestamped [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:90:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Data Persistence ‚Ä∫ Stored data should persist across requests [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:121:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Data Persistence ‚Ä∫ Multiple database operations should maintain consistency [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:165:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Query Performance ‚Ä∫ Database queries should execute quickly [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:201:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Database Health ‚Ä∫ PostgreSQL connection should be healthy [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:213:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Database Health ‚Ä∫ Connection pool status should be available [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:22:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Availability ‚Ä∫ Should include required models [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:57:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with llama2 model [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:92:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with mistral model [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:127:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with neural-chat model [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:164:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Configuration ‚Ä∫ Should handle invalid model gracefully [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:201:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Configuration ‚Ä∫ Model metadata should be available [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:240:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Frontend Integration ‚Ä∫ Should support model switching during session [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:7:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Auth service should respond in under 100ms [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:31:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Funding service should respond in under 100ms [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:43:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Policy service should respond in under 100ms [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:55:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ LLM service should respond in under 100ms [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:67:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Analytics service should respond in under 100ms [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:104:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Performance Baseline ‚Ä∫ All services should be operational [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:7:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-User Rate Limiting ‚Ä∫ Should track requests per user [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:105:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-Endpoint Rate Limiting ‚Ä∫ Should apply endpoint-specific limits [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:151:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Time-Window Rate Limiting ‚Ä∫ Should reset limits on time window [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:203:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Rate Limit Headers ‚Ä∫ Should include rate limit information in response headers [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:250:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Rate Limit Protection ‚Ä∫ Should protect against denial of service [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:120:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with llama2 model [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:162:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with mistral model [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:194:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with neural-chat model [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:228:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Switching with Sequential Queries ‚Ä∫ Should switch between all 4 models and execute queries [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:281:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Switching with Sequential Queries ‚Ä∫ Should maintain model state across consecutive requests [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:316:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model-Specific Response Validation ‚Ä∫ Should return valid response structure from each model [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:357:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model-Specific Response Validation ‚Ä∫ Should include model identification in response [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:424:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Error Handling and Edge Cases ‚Ä∫ Should validate model selection required [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:445:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Performance with Model Switching ‚Ä∫ Should handle rapid model switches under 2 seconds per query [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:476:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Integration: Frontend Model Selector Scenario ‚Ä∫ Should complete full user workflow: list models > select model > generate query [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:551:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Integration: Frontend Model Selector Scenario ‚Ä∫ Should persist selected model in UI state across multiple queries [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:141:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should complete inference within timeout window [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:182:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should handle concurrent inference requests [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:229:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should rate-limit excessive requests appropriately [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:280:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Data Consistency Across Services ‚Ä∫ Should maintain consistent user data across auth and analytics [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:338:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Data Consistency Across Services ‚Ä∫ Should track inference requests with correct user context [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:425:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Service Failure Isolation ‚Ä∫ Should gracefully degrade when LLM service is unavailable [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:476:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Session & Token Management ‚Ä∫ Should maintain session across multiple requests [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:515:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Session & Token Management ‚Ä∫ Should prevent token reuse after expiration [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:79:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Event Telemetry Pipeline ‚Ä∫ Should capture inference execution events [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:177:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should include required telemetry fields [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:221:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should correlate events with user session [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:352:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ WebSocket Stability (Real-time Events) ‚Ä∫ Should report ready status when dependencies available [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:417:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ End-to-End Message Flow ‚Ä∫ Should flow events through complete pipeline [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:7:9 ‚Ä∫ E2E Workflows ‚Ä∫ User Registration & Login Flow ‚Ä∫ Should complete full registration workflow [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:43:9 ‚Ä∫ E2E Workflows ‚Ä∫ User Registration & Login Flow ‚Ä∫ Should complete full login workflow [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:92:9 ‚Ä∫ E2E Workflows ‚Ä∫ Query & Inference Workflow ‚Ä∫ Should execute complete query workflow [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:139:9 ‚Ä∫ E2E Workflows ‚Ä∫ Query & Inference Workflow ‚Ä∫ Should support multiple queries in session [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:197:9 ‚Ä∫ E2E Workflows ‚Ä∫ Cross-Service Integration ‚Ä∫ Should coordinate between auth and inference services [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:242:9 ‚Ä∫ E2E Workflows ‚Ä∫ Cross-Service Integration ‚Ä∫ Should maintain session across services [39m
[31m    [chromium] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:370:9 ‚Ä∫ E2E Workflows ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle invalid requests properly [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:7:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ User Action Logging ‚Ä∫ Should log user registration [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:39:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ User Action Logging ‚Ä∫ Should log user login [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:87:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Query Tracking ‚Ä∫ Should track LLM inference queries [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:133:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Log Integrity ‚Ä∫ Logs should be immutable (no modification possible) [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:167:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Log Integrity ‚Ä∫ All audit operations should be timestamped [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:90:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Data Persistence ‚Ä∫ Stored data should persist across requests [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:121:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Data Persistence ‚Ä∫ Multiple database operations should maintain consistency [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:165:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Query Performance ‚Ä∫ Database queries should execute quickly [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:201:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Database Health ‚Ä∫ PostgreSQL connection should be healthy [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:213:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Database Health ‚Ä∫ Connection pool status should be available [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:22:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Availability ‚Ä∫ Should include required models [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:57:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with llama2 model [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:92:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with mistral model [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:127:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with neural-chat model [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:164:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Configuration ‚Ä∫ Should handle invalid model gracefully [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:201:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Configuration ‚Ä∫ Model metadata should be available [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:240:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Frontend Integration ‚Ä∫ Should support model switching during session [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:7:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Auth service should respond in under 100ms [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:31:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Funding service should respond in under 100ms [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:43:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Policy service should respond in under 100ms [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:55:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ LLM service should respond in under 100ms [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:67:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Analytics service should respond in under 100ms [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:104:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Performance Baseline ‚Ä∫ All services should be operational [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:7:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-User Rate Limiting ‚Ä∫ Should track requests per user [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:105:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-Endpoint Rate Limiting ‚Ä∫ Should apply endpoint-specific limits [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:151:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Time-Window Rate Limiting ‚Ä∫ Should reset limits on time window [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:203:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Rate Limit Headers ‚Ä∫ Should include rate limit information in response headers [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:250:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Rate Limit Protection ‚Ä∫ Should protect against denial of service [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:120:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with llama2 model [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:162:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with mistral model [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:194:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with neural-chat model [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:228:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Switching with Sequential Queries ‚Ä∫ Should switch between all 4 models and execute queries [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:281:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Switching with Sequential Queries ‚Ä∫ Should maintain model state across consecutive requests [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:316:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model-Specific Response Validation ‚Ä∫ Should return valid response structure from each model [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:357:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model-Specific Response Validation ‚Ä∫ Should include model identification in response [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:424:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Error Handling and Edge Cases ‚Ä∫ Should validate model selection required [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:445:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Performance with Model Switching ‚Ä∫ Should handle rapid model switches under 2 seconds per query [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:476:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Integration: Frontend Model Selector Scenario ‚Ä∫ Should complete full user workflow: list models > select model > generate query [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:551:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Integration: Frontend Model Selector Scenario ‚Ä∫ Should persist selected model in UI state across multiple queries [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:141:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should complete inference within timeout window [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:182:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should handle concurrent inference requests [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:229:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should rate-limit excessive requests appropriately [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:280:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Data Consistency Across Services ‚Ä∫ Should maintain consistent user data across auth and analytics [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:338:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Data Consistency Across Services ‚Ä∫ Should track inference requests with correct user context [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:425:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Service Failure Isolation ‚Ä∫ Should gracefully degrade when LLM service is unavailable [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:476:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Session & Token Management ‚Ä∫ Should maintain session across multiple requests [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:515:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Session & Token Management ‚Ä∫ Should prevent token reuse after expiration [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:79:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Event Telemetry Pipeline ‚Ä∫ Should capture inference execution events [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:177:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should include required telemetry fields [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:221:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should correlate events with user session [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:352:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ WebSocket Stability (Real-time Events) ‚Ä∫ Should report ready status when dependencies available [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:417:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ End-to-End Message Flow ‚Ä∫ Should flow events through complete pipeline [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:7:9 ‚Ä∫ E2E Workflows ‚Ä∫ User Registration & Login Flow ‚Ä∫ Should complete full registration workflow [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:43:9 ‚Ä∫ E2E Workflows ‚Ä∫ User Registration & Login Flow ‚Ä∫ Should complete full login workflow [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:92:9 ‚Ä∫ E2E Workflows ‚Ä∫ Query & Inference Workflow ‚Ä∫ Should execute complete query workflow [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:139:9 ‚Ä∫ E2E Workflows ‚Ä∫ Query & Inference Workflow ‚Ä∫ Should support multiple queries in session [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:197:9 ‚Ä∫ E2E Workflows ‚Ä∫ Cross-Service Integration ‚Ä∫ Should coordinate between auth and inference services [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:242:9 ‚Ä∫ E2E Workflows ‚Ä∫ Cross-Service Integration ‚Ä∫ Should maintain session across services [39m
[31m    [firefox] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:370:9 ‚Ä∫ E2E Workflows ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle invalid requests properly [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:7:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ User Action Logging ‚Ä∫ Should log user registration [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:39:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ User Action Logging ‚Ä∫ Should log user login [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:87:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Query Tracking ‚Ä∫ Should track LLM inference queries [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:133:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Log Integrity ‚Ä∫ Logs should be immutable (no modification possible) [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\audit-trail.spec.ts:167:9 ‚Ä∫ Critical Requirement: Audit Trail (Immutable PostgreSQL Logs) ‚Ä∫ Log Integrity ‚Ä∫ All audit operations should be timestamped [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:90:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Data Persistence ‚Ä∫ Stored data should persist across requests [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:121:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Data Persistence ‚Ä∫ Multiple database operations should maintain consistency [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:165:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Query Performance ‚Ä∫ Database queries should execute quickly [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:201:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Database Health ‚Ä∫ PostgreSQL connection should be healthy [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\database.spec.ts:213:9 ‚Ä∫ Critical Requirement: Database (PostgreSQL with Connection Pooling) ‚Ä∫ Database Health ‚Ä∫ Connection pool status should be available [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:22:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Availability ‚Ä∫ Should include required models [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:57:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with llama2 model [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:92:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with mistral model [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:127:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Selection ‚Ä∫ Should execute inference with neural-chat model [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:164:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Configuration ‚Ä∫ Should handle invalid model gracefully [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:201:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Model Configuration ‚Ä∫ Model metadata should be available [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\llm-selector.spec.ts:240:9 ‚Ä∫ Critical Requirement: LLM Model Selector ‚Ä∫ Frontend Integration ‚Ä∫ Should support model switching during session [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:7:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Auth service should respond in under 100ms [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:31:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Funding service should respond in under 100ms [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:43:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Policy service should respond in under 100ms [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:55:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ LLM service should respond in under 100ms [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:67:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Service Latency ‚Ä∫ Analytics service should respond in under 100ms [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\performance.spec.ts:104:9 ‚Ä∫ Critical Requirement: Performance (Auth < 100ms) ‚Ä∫ Performance Baseline ‚Ä∫ All services should be operational [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:7:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-User Rate Limiting ‚Ä∫ Should track requests per user [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:105:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Per-Endpoint Rate Limiting ‚Ä∫ Should apply endpoint-specific limits [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:151:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Time-Window Rate Limiting ‚Ä∫ Should reset limits on time window [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:203:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Rate Limit Headers ‚Ä∫ Should include rate limit information in response headers [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\critical-requirements\rate-limiting.spec.ts:250:9 ‚Ä∫ Critical Requirement: Rate Limiting (4-Dimensional Guards) ‚Ä∫ Rate Limit Protection ‚Ä∫ Should protect against denial of service [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:120:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with llama2 model [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:162:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with mistral model [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:194:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Single Model Query Execution ‚Ä∫ Should execute query successfully with neural-chat model [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:228:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Switching with Sequential Queries ‚Ä∫ Should switch between all 4 models and execute queries [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:281:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model Switching with Sequential Queries ‚Ä∫ Should maintain model state across consecutive requests [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:316:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model-Specific Response Validation ‚Ä∫ Should return valid response structure from each model [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:357:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Model-Specific Response Validation ‚Ä∫ Should include model identification in response [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:424:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Error Handling and Edge Cases ‚Ä∫ Should validate model selection required [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:445:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Performance with Model Switching ‚Ä∫ Should handle rapid model switches under 2 seconds per query [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:476:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Integration: Frontend Model Selector Scenario ‚Ä∫ Should complete full user workflow: list models > select model > generate query [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\model-switching.spec.ts:551:9 ‚Ä∫ Model Switching and Multi-Model Queries ‚Ä∫ Integration: Frontend Model Selector Scenario ‚Ä∫ Should persist selected model in UI state across multiple queries [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:141:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should complete inference within timeout window [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:182:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should handle concurrent inference requests [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:229:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Timeout & Performance Handling ‚Ä∫ Should rate-limit excessive requests appropriately [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:280:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Data Consistency Across Services ‚Ä∫ Should maintain consistent user data across auth and analytics [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:338:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Data Consistency Across Services ‚Ä∫ Should track inference requests with correct user context [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:425:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Service Failure Isolation ‚Ä∫ Should gracefully degrade when LLM service is unavailable [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:476:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Session & Token Management ‚Ä∫ Should maintain session across multiple requests [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\resilience-and-recovery.spec.ts:515:9 ‚Ä∫ E2E Resilience & Error Recovery ‚Ä∫ Session & Token Management ‚Ä∫ Should prevent token reuse after expiration [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:79:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Event Telemetry Pipeline ‚Ä∫ Should capture inference execution events [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:177:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should include required telemetry fields [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:221:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ Telemetry Data Quality ‚Ä∫ Should correlate events with user session [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:352:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ WebSocket Stability (Real-time Events) ‚Ä∫ Should report ready status when dependencies available [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\telemetry-validation.spec.ts:417:9 ‚Ä∫ E2E Telemetry & WebSocket Validation ‚Ä∫ End-to-End Message Flow ‚Ä∫ Should flow events through complete pipeline [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:7:9 ‚Ä∫ E2E Workflows ‚Ä∫ User Registration & Login Flow ‚Ä∫ Should complete full registration workflow [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:43:9 ‚Ä∫ E2E Workflows ‚Ä∫ User Registration & Login Flow ‚Ä∫ Should complete full login workflow [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:92:9 ‚Ä∫ E2E Workflows ‚Ä∫ Query & Inference Workflow ‚Ä∫ Should execute complete query workflow [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:139:9 ‚Ä∫ E2E Workflows ‚Ä∫ Query & Inference Workflow ‚Ä∫ Should support multiple queries in session [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:197:9 ‚Ä∫ E2E Workflows ‚Ä∫ Cross-Service Integration ‚Ä∫ Should coordinate between auth and inference services [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:242:9 ‚Ä∫ E2E Workflows ‚Ä∫ Cross-Service Integra
tion ‚Ä∫ Should maintain session across services [39m
[31m    [webkit] ‚Ä∫ apps\api-e2e\src\workflows\user-journey.spec.ts:370:9 ‚Ä∫ E2E Workflows ‚Ä∫ Error Handling & Recovery ‚Ä∫ Should handle invalid requests properly [39m
[32m  114 passed[39m[2m (2.7m)[22m



 NX   Running target e2e for project api-e2e failed

Failed tasks:

- api-e2e:e2e

Hint: run the command with --verbose for more details.

